!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){var i,r,a=(n=n||de).createElement("script");if(a.text=e,t)for(i in pe)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&a.setAttribute(i,r);n.head.appendChild(a).parentNode.removeChild(a)}function i(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ie[re.call(e)]||"object":typeof e}function r(e){var t=!!e&&"length"in e&&e.length,n=i(e);return!ce(e)&&!ue(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function a(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function o(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function l(e,t,n){return ce(t)?me.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?me.grep(e,function(e){return e===t!==n}):"string"!=typeof t?me.grep(e,function(e){return-1<ne.call(t,e)!==n}):me.filter(t,e,n)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){return e}function u(e){throw e}function d(e,t,n,i){var r;try{e&&ce(r=e.promise)?r.call(e).done(t).fail(n):e&&ce(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}function p(){de.removeEventListener("DOMContentLoaded",p),e.removeEventListener("load",p),me.ready()}function f(e,t){return t.toUpperCase()}function h(e){return e.replace(Ne,"ms-").replace(Re,f)}function m(){this.expando=me.expando+m.uid++}function v(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace($e,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:qe.test(r)?JSON.parse(r):r)}catch(e){}Me.set(e,t,n)}else n=void 0;return n}function g(e,t,n,i){var r,a,o=20,l=i?function(){return i.cur()}:function(){return me.css(e,t,"")},s=l(),c=n&&n[3]||(me.cssNumber[t]?"":"px"),u=e.nodeType&&(me.cssNumber[t]||"px"!==c&&+s)&&Be.exec(me.css(e,t));if(u&&u[3]!==c){for(s/=2,c=c||u[3],u=+s||1;o--;)me.style(e,t,u+c),(1-a)*(1-(a=l()/s||.5))<=0&&(o=0),u/=a;u*=2,me.style(e,t,u+c),n=n||[]}return n&&(u=+u||+s||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function y(e,t){for(var n,i,r,a,o,l,s,c=[],u=0,d=e.length;u<d;u++)(i=e[u]).style&&(n=i.style.display,t?("none"===n&&(c[u]=He.get(i,"display")||null,c[u]||(i.style.display="")),""===i.style.display&&Ke(i)&&(c[u]=(s=o=a=void 0,o=(r=i).ownerDocument,l=r.nodeName,(s=Ve[l])||(a=o.body.appendChild(o.createElement(l)),s=me.css(a,"display"),a.parentNode.removeChild(a),"none"===s&&(s="block"),Ve[l]=s)))):"none"!==n&&(c[u]="none",He.set(i,"display",n)));for(u=0;u<d;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}function b(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&a(e,t)?me.merge([e],n):n}function x(e,t){for(var n=0,i=e.length;n<i;n++)He.set(e[n],"globalEval",!t||He.get(t[n],"globalEval"))}function w(e,t,n,r,a){for(var o,l,s,c,u,d,p=t.createDocumentFragment(),f=[],h=0,m=e.length;h<m;h++)if((o=e[h])||0===o)if("object"===i(o))me.merge(f,o.nodeType?[o]:o);else if(it.test(o)){for(l=l||p.appendChild(t.createElement("div")),s=(et.exec(o)||["",""])[1].toLowerCase(),c=nt[s]||nt._default,l.innerHTML=c[1]+me.htmlPrefilter(o)+c[2],d=c[0];d--;)l=l.lastChild;me.merge(f,l.childNodes),(l=p.firstChild).textContent=""}else f.push(t.createTextNode(o));for(p.textContent="",h=0;o=f[h++];)if(r&&-1<me.inArray(o,r))a&&a.push(o);else if(u=Xe(o),l=b(p.appendChild(o),"script"),u&&x(l),n)for(d=0;o=l[d++];)tt.test(o.type||"")&&n.push(o);return p}function k(){return!0}function _(){return!1}function C(e,t,n,i,r,a){var o,l;if("object"==typeof t){for(l in"string"!=typeof n&&(i=i||n,n=void 0),t)C(e,l,n,i,t[l],a);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=_;else if(!r)return e;return 1===a&&(o=r,(r=function(e){return me().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=me.guid++)),e.each(function(){me.event.add(this,t,r,i,n)})}function S(e,t,n){n?(He.set(e,t,!1),me.event.add(e,t,{namespace:!1,handler:function(e){var n,i=He.get(this,t);if(1&e.isTrigger&&this[t]){if(i)(me.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=Z.call(arguments),He.set(this,t,i),this[t](),n=He.get(this,t),He.set(this,t,!1),i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else i&&(He.set(this,t,me.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=k)}})):void 0===He.get(e,t)&&me.event.add(e,t,k)}function T(e,t){return a(e,"table")&&a(11!==t.nodeType?t:t.firstChild,"tr")&&me(e).children("tbody")[0]||e}function E(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function F(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function A(e,t){var n,i,r,a,o,l;if(1===t.nodeType){if(He.hasData(e)&&(l=He.get(e).events))for(r in He.remove(t,"handle events"),l)for(n=0,i=l[r].length;n<i;n++)me.event.add(t,r,l[r][n]);Me.hasData(e)&&(a=Me.access(e),o=me.extend({},a),Me.set(t,o))}}function L(e,t,i,r){t=ee(t);var a,o,l,s,c,u,d=0,p=e.length,f=p-1,h=t[0],m=ce(h);if(m||1<p&&"string"==typeof h&&!se.checkClone&&ot.test(h))return e.each(function(n){var a=e.eq(n);m&&(t[0]=h.call(this,n,a.html())),L(a,t,i,r)});if(p&&(o=(a=w(t,e[0].ownerDocument,!1,e,r)).firstChild,1===a.childNodes.length&&(a=o),o||r)){for(s=(l=me.map(b(a,"script"),E)).length;d<p;d++)c=a,d!==f&&(c=me.clone(c,!0,!0),s&&me.merge(l,b(c,"script"))),i.call(e[d],c,d);if(s)for(u=l[l.length-1].ownerDocument,me.map(l,F),d=0;d<s;d++)c=l[d],tt.test(c.type||"")&&!He.access(c,"globalEval")&&me.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?me._evalUrl&&!c.noModule&&me._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):n(c.textContent.replace(lt,""),c,u))}return e}function D(e,t,n){for(var i,r=t?me.filter(t,e):e,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||me.cleanData(b(i)),i.parentNode&&(n&&Xe(i)&&x(b(i,"script")),i.parentNode.removeChild(i));return e}function j(e,t,n){var i,r,a,o,l=ct.test(t),s=e.style;return(n=n||ut(e))&&(o=n.getPropertyValue(t)||n[t],l&&o&&(o=o.replace(xe,"$1")||void 0),""!==o||Xe(e)||(o=me.style(e,t)),!se.pixelBoxStyles()&&st.test(o)&&pt.test(t)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function I(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function O(e){return me.cssProps[e]||mt[e]||(e in ht?e:mt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ft.length;n--;)if((e=ft[n]+t)in ht)return e}(e)||e)}function z(e,t,n){var i=Be.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function N(e,t,n,i,r,a){var o="width"===t?1:0,l=0,s=0,c=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=me.css(e,n+We[o],!0,r)),i?("content"===n&&(s-=me.css(e,"padding"+We[o],!0,r)),"margin"!==n&&(s-=me.css(e,"border"+We[o]+"Width",!0,r))):(s+=me.css(e,"padding"+We[o],!0,r),"padding"!==n?s+=me.css(e,"border"+We[o]+"Width",!0,r):l+=me.css(e,"border"+We[o]+"Width",!0,r));return!i&&0<=a&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-s-l-.5))||0),s+c}function R(e,t,n){var i=ut(e),r=(!se.boxSizingReliable()||n)&&"border-box"===me.css(e,"boxSizing",!1,i),o=r,l=j(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(st.test(l)){if(!n)return l;l="auto"}return(!se.boxSizingReliable()&&r||!se.reliableTrDimensions()&&a(e,"tr")||"auto"===l||!parseFloat(l)&&"inline"===me.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===me.css(e,"boxSizing",!1,i),(o=s in e)&&(l=e[s])),(l=parseFloat(l)||0)+N(e,t,n||(r?"border":"content"),o,i,l)+"px"}function P(e,t,n,i,r){return new P.prototype.init(e,t,n,i,r)}function H(){xt&&(!1===de.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(H):e.setTimeout(H,me.fx.interval),me.fx.tick())}function M(){return e.setTimeout(function(){bt=void 0}),bt=Date.now()}function q(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=We[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function $(e,t,n){for(var i,r=(U.tweeners[t]||[]).concat(U.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,t,e))return i}function U(e,t,n){var i,r,a=0,o=U.prefilters.length,l=me.Deferred().always(function(){delete s.elem}),s=function(){if(r)return!1;for(var t=bt||M(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(i);return l.notifyWith(e,[c,i,n]),i<1&&o?n:(o||l.notifyWith(e,[c,1,0]),l.resolveWith(e,[c]),!1)},c=l.promise({elem:e,props:me.extend({},t),opts:me.extend(!0,{specialEasing:{},easing:me.easing._default},n),originalProperties:t,originalOptions:n,startTime:bt||M(),duration:n.duration,tweens:[],createTween:function(t,n){var i=me.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(l.notifyWith(e,[c,1,0]),l.resolveWith(e,[c,t])):l.rejectWith(e,[c,t]),this}}),u=c.props;for((!function(e,t){var n,i,r,a,o;for(n in e)if(r=t[i=h(n)],a=e[n],Array.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),(o=me.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete e[i],a)n in e||(e[n]=a[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing));a<o;a++)if(i=U.prefilters[a].call(c,e,u,c.opts))return ce(i.stop)&&(me._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return me.map(u,$,c),ce(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),me.fx.timer(me.extend(s,{elem:e,anim:c,queue:c.opts.queue})),c}function B(e){return(e.match(je)||[]).join(" ")}function W(e){return e.getAttribute&&e.getAttribute("class")||""}function Y(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(je)||[]}function X(e,t,n,r){var a;if(Array.isArray(t))me.each(t,function(t,i){n||zt.test(e)?r(e,i):X(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==i(t))r(e,t);else for(a in t)X(e+"["+a+"]",t[a],n,r)}function Q(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(je)||[];if(ce(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function K(e,t,n,i){function r(l){var s;return a[l]=!0,me.each(e[l]||[],function(e,l){var c=l(t,n,i);return"string"!=typeof c||o||a[c]?o?!(s=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),s}var a={},o=e===Yt;return r(t.dataTypes[0])||!a["*"]&&r("*")}function V(e,t){var n,i,r=me.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&me.extend(!0,e,i),e}var J=[],G=Object.getPrototypeOf,Z=J.slice,ee=J.flat?function(e){return J.flat.call(e)}:function(e){return J.concat.apply([],e)},te=J.push,ne=J.indexOf,ie={},re=ie.toString,ae=ie.hasOwnProperty,oe=ae.toString,le=oe.call(Object),se={},ce=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},ue=function(e){return null!=e&&e===e.window},de=e.document,pe={type:!0,src:!0,nonce:!0,noModule:!0},fe="3.7.0",he=/HTML$/i,me=function(e,t){return new me.fn.init(e,t)};me.fn=me.prototype={jquery:fe,constructor:me,length:0,toArray:function(){return Z.call(this)},get:function(e){return null==e?Z.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=me.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return me.each(this,e)},map:function(e){return this.pushStack(me.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(me.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(me.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:te,sort:J.sort,splice:J.splice},me.extend=me.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},l=1,s=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[l]||{},l++),"object"==typeof o||ce(o)||(o={}),l===s&&(o=this,l--);l<s;l++)if(null!=(e=arguments[l]))for(t in e)i=e[t],"__proto__"!==t&&o!==i&&(c&&i&&(me.isPlainObject(i)||(r=Array.isArray(i)))?(n=o[t],a=r&&!Array.isArray(n)?[]:r||me.isPlainObject(n)?n:{},r=!1,o[t]=me.extend(c,a,i)):void 0!==i&&(o[t]=i));return o},me.extend({expando:"jQuery"+(fe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==re.call(e)||(t=G(e))&&("function"!=typeof(n=ae.call(t,"constructor")&&t.constructor)||oe.call(n)!==le))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){n(e,{nonce:t&&t.nonce},i)},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r)return e.textContent;if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=me.text(t);return n},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?me.merge(n,"string"==typeof e?[e]:e):te.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ne.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!he.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,a=e.length,o=!n;r<a;r++)!t(e[r],r)!==o&&i.push(e[r]);return i},map:function(e,t,n){var i,a,o=0,l=[];if(r(e))for(i=e.length;o<i;o++)null!=(a=t(e[o],o,n))&&l.push(a);else for(o in e)null!=(a=t(e[o],o,n))&&l.push(a);return ee(l)},guid:1,support:se}),"function"==typeof Symbol&&(me.fn[Symbol.iterator]=J[Symbol.iterator]),me.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ie["[object "+t+"]"]=t.toLowerCase()});var ve=J.pop,ge=J.sort,ye=J.splice,be="[\\x20\\t\\r\\n\\f]",xe=new RegExp("^"+be+"+|((?:^|[^\\\\])(?:\\\\.)*)"+be+"+$","g");me.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;me.escapeSelector=function(e){return(e+"").replace(we,o)};var ke=de,_e=te;!function(){function t(e,n,i,r){var a,o,l,u,f,h,m,v=n&&n.ownerDocument,g=n?n.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return i;if(!r&&(c(n),n=n||S,E)){if(11!==g&&(f=ee.exec(e)))if(a=f[1]){if(9===g){if(!(l=n.getElementById(a)))return i;if(l.id===a)return L.call(i,l),i}else if(v&&(l=v.getElementById(a))&&t.contains(n,l)&&l.id===a)return L.call(i,l),i}else{if(f[2])return L.apply(i,n.getElementsByTagName(e)),i;if((a=f[3])&&n.getElementsByClassName)return L.apply(i,n.getElementsByClassName(a)),i}if(!(R[e+" "]||F&&F.test(e))){if(m=e,v=n,1===g&&(Y.test(e)||W.test(e))){for((v=te.test(e)&&s(n.parentNode)||n)==n&&se.scope||((u=n.getAttribute("id"))?u=me.escapeSelector(u):n.setAttribute("id",u=D)),o=(h=d(e)).length;o--;)h[o]=(u?"#"+u:":scope")+" "+p(h[o]);m=h.join(",")}try{return L.apply(i,v.querySelectorAll(m)),i}catch(n){R(e,!0)}finally{u===D&&n.removeAttribute("id")}}}return b(e.replace(xe,"$1"),n,i,r)}function n(){var e=[];return function t(n,i){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function i(e){return e[D]=!0,e}function r(e){var t=S.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&le(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function s(e){return e&&void 0!==e.getElementsByTagName&&e}function c(e){var n,i=e?e.ownerDocument||e:ke;return i!=S&&9===i.nodeType&&i.documentElement&&(T=(S=i).documentElement,E=!me.isXMLDoc(S),A=T.matches||T.webkitMatchesSelector||T.msMatchesSelector,ke!=S&&(n=S.defaultView)&&n.top!==n&&n.addEventListener("unload",oe),se.getById=r(function(e){return T.appendChild(e).id=me.expando,!S.getElementsByName||!S.getElementsByName(me.expando).length}),se.disconnectedMatch=r(function(e){return A.call(e,"*")}),se.scope=r(function(){return S.querySelectorAll(":scope")}),se.cssHas=r(function(){try{return S.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),se.getById?(w.filter.ID=function(e){var t=e.replace(ie,re);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var t=e.replace(ie,re);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n,i,r,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(r=t.getElementsByName(e),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),w.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},w.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&E)return t.getElementsByClassName(e)},F=[],r(function(e){var t;T.appendChild(e).innerHTML="<a id='"+D+"' href='' disabled='disabled'></a><select id='"+D+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||F.push("\\["+be+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+D+"-]").length||F.push("~="),e.querySelectorAll("a#"+D+"+*").length||F.push(".#.+[+~]"),e.querySelectorAll(":checked").length||F.push(":checked"),(t=S.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),T.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),(t=S.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||F.push("\\["+be+"*name"+be+"*="+be+"*(?:''|\"\")")}),se.cssHas||F.push(":has"),F=F.length&&new RegExp(F.join("|")),P=function(e,n){if(e===n)return C=!0,0;var i=!e.compareDocumentPosition-!n.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(n.ownerDocument||n)?e.compareDocumentPosition(n):1)||!se.sortDetached&&n.compareDocumentPosition(e)===i?e===S||e.ownerDocument==ke&&t.contains(ke,e)?-1:n===S||n.ownerDocument==ke&&t.contains(ke,n)?1:_?ne.call(_,e)-ne.call(_,n):0:4&i?-1:1)}),S}function u(){}function d(e,n){var i,r,a,o,l,s,c,u=z[e+" "];if(u)return n?0:u.slice(0);for(l=e,s=[],c=w.preFilter;l;){for(o in i&&!(r=B.exec(l))||(r&&(l=l.slice(r[0].length)||l),s.push(a=[])),i=!1,(r=W.exec(l))&&(i=r.shift(),a.push({value:i,type:r[0].replace(xe," ")}),l=l.slice(i.length)),w.filter)!(r=K[o].exec(l))||c[o]&&!(r=c[o](r))||(i=r.shift(),a.push({value:i,type:o,matches:r}),l=l.slice(i.length));if(!i)break}return n?l.length:l?t.error(e):z(e,s).slice(0)}function p(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=t.next,o=r||i,l=n&&"parentNode"===o,s=I++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||l)return e(t,n,r);return!1}:function(t,n,c){var u,d,p=[j,s];if(c){for(;t=t[i];)if((1===t.nodeType||l)&&e(t,n,c))return!0}else for(;t=t[i];)if(1===t.nodeType||l)if(d=t[D]||(t[D]={}),r&&a(t,r))t=t[i]||t;else{if((u=d[o])&&u[0]===j&&u[1]===s)return p[2]=u[2];if((d[o]=p)[2]=e(t,n,c))return!0}return!1}}function h(e){return 1<e.length?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var a,o=[],l=0,s=e.length,c=null!=t;l<s;l++)(a=e[l])&&(n&&!n(a,i,r)||(o.push(a),c&&t.push(l)));return o}function v(e,n,r,a,o,l){return a&&!a[D]&&(a=v(a)),o&&!o[D]&&(o=v(o,l)),i(function(i,l,s,c){var u,d,p,f,h=[],v=[],g=l.length,y=i||function(e,n,i){for(var r=0,a=n.length;r<a;r++)t(e,n[r],i);return i}(n||"*",s.nodeType?[s]:s,[]),b=!e||!i&&n?y:m(y,h,e,s,c);if(r?r(b,f=o||(i?e:g||a)?[]:l,s,c):f=b,a)for(u=m(f,v),a(u,[],s,c),d=u.length;d--;)(p=u[d])&&(f[v[d]]=!(b[v[d]]=p));if(i){if(o||e){if(o){for(u=[],d=f.length;d--;)(p=f[d])&&u.push(b[d]=p);o(null,f=[],u,c)}for(d=f.length;d--;)(p=f[d])&&-1<(u=o?ne.call(i,p):h[d])&&(i[u]=!(l[u]=p))}}else f=m(f===l?f.splice(g,f.length):f),o?o(null,l,f,c):L.apply(l,f)})}function g(e){for(var t,n,i,r=e.length,a=w.relative[e[0].type],o=a||w.relative[" "],l=a?1:0,s=f(function(e){return e===t},o,!0),c=f(function(e){return-1<ne.call(t,e)},o,!0),u=[function(e,n,i){var r=!a&&(i||n!=k)||((t=n).nodeType?s(e,n,i):c(e,n,i));return t=null,r}];l<r;l++)if(n=w.relative[e[l].type])u=[f(h(u),n)];else{if((n=w.filter[e[l].type].apply(null,e[l].matches))[D]){for(i=++l;i<r&&!w.relative[e[i].type];i++);return v(1<l&&h(u),1<l&&p(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(xe,"$1"),n,l<i&&g(e.slice(l,i)),i<r&&g(e=e.slice(i)),i<r&&p(e))}u.push(n)}return h(u)}function y(e,t){var n,r,a,o,l,s,u=[],p=[],f=N[e+" "];if(!f){for(t||(t=d(e)),n=t.length;n--;)(f=g(t[n]))[D]?u.push(f):p.push(f);(f=N(e,(r=p,o=0<(a=u).length,l=0<r.length,s=function(e,t,n,i,s){var u,d,p,f=0,h="0",v=e&&[],g=[],y=k,b=e||l&&w.find.TAG("*",s),x=j+=null==y?1:Math.random()||.1,_=b.length;for(s&&(k=t==S||t||s);h!==_&&null!=(u=b[h]);h++){if(l&&u){for(d=0,t||u.ownerDocument==S||(c(u),n=!E);p=r[d++];)if(p(u,t||S,n)){L.call(i,u);break}s&&(j=x)}o&&((u=!p&&u)&&f--,e&&v.push(u))}if(f+=h,o&&h!==f){for(d=0;p=a[d++];)p(v,g,t,n);if(e){if(0<f)for(;h--;)v[h]||g[h]||(g[h]=ve.call(i));g=m(g)}L.apply(i,g),s&&!e&&0<g.length&&1<f+a.length&&me.uniqueSort(i)}return s&&(j=x,k=y),v},o?i(s):s))).selector=e}return f}function b(e,t,n,i){var r,a,o,l,c,u="function"==typeof e&&e,f=!i&&d(e=u.selector||e);if(n=n||[],1===f.length){if(2<(a=f[0]=f[0].slice(0)).length&&"ID"===(o=a[0]).type&&9===t.nodeType&&E&&w.relative[a[1].type]){if(!(t=(w.find.ID(o.matches[0].replace(ie,re),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=K.needsContext.test(e)?0:a.length;r--&&(o=a[r],!w.relative[l=o.type]);)if((c=w.find[l])&&(i=c(o.matches[0].replace(ie,re),te.test(a[0].type)&&s(t.parentNode)||t))){if(a.splice(r,1),!(e=i.length&&p(a)))return L.apply(n,i),n;break}}return(u||y(e,f))(i,t,!E,n,!t||te.test(e)&&s(t.parentNode)||t),n}var x,w,k,_,C,S,T,E,F,A,L=_e,D=me.expando,j=0,I=0,O=n(),z=n(),N=n(),R=n(),P=function(e,t){return e===t&&(C=!0),0},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="(?:\\\\[\\da-fA-F]{1,6}"+be+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\["+be+"*("+M+")(?:"+be+"*([*^$|!~]?=)"+be+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+be+"*\\]",$=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",U=new RegExp(be+"+","g"),B=new RegExp("^"+be+"*,"+be+"*"),W=new RegExp("^"+be+"*([>+~]|"+be+")"+be+"*"),Y=new RegExp(be+"|>"),X=new RegExp($),Q=new RegExp("^"+M+"$"),K={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+be+"*(even|odd|(([+-]|)(\\d*)n|)"+be+"*(?:([+-]|)"+be+"*(\\d+)|))"+be+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+be+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+be+"*((?:-\\d)?\\d*)"+be+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,ee=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,te=/[+~]/,ie=new RegExp("\\\\[\\da-fA-F]{1,6}"+be+"?|\\\\([^\\r\\n\\f])","g"),re=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},oe=function(){c()},le=f(function(e){return!0===e.disabled&&a(e,"fieldset")},{dir:"parentNode",next:"legend"});try{L.apply(J=Z.call(ke.childNodes),ke.childNodes),J[ke.childNodes.length].nodeType}catch(x){L={apply:function(e,t){_e.apply(e,Z.call(t))},call:function(e){_e.apply(e,Z.call(arguments,1))}}}for(x in t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if(c(e),E&&!R[n+" "]&&(!F||!F.test(n)))try{var i=A.call(e,n);if(i||se.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){R(n,!0)}return 0<t(n,S,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!=S&&c(e),me.contains(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!=S&&c(e);var n=w.attrHandle[t.toLowerCase()],i=n&&ae.call(w.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==i?i:e.getAttribute(t)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},me.uniqueSort=function(e){var t,n=[],i=0,r=0;if(C=!se.sortStable,_=!se.sortStable&&Z.call(e,0),ge.call(e,P),C){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)ye.call(e,n[i],1)}return _=null,e},me.fn.uniqueSort=function(){return this.pushStack(me.uniqueSort(Z.apply(this)))},(w=me.expr={cacheLength:50,createPseudo:i,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ie,re),e[3]=(e[3]||e[4]||e[5]||"").replace(ie,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ie,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return a(e,t)}},CLASS:function(e){var t=O[e+" "];return t||(t=new RegExp("(^|"+be+")"+e+"("+be+"|$)"))&&O(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var a=t.attr(r,e);return null==a?"!="===n:!n||(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&-1<a.indexOf(i):"$="===n?i&&a.slice(-i.length)===i:"~="===n?-1<(" "+a.replace(U," ")+" ").indexOf(i):"|="===n&&(a===i||a.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),l="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,c){var u,d,p,f,h,m=o!==l?"nextSibling":"previousSibling",v=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(v){if(o){for(;m;){for(p=t;p=p[m];)if(s?a(p,g):1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[l?v.firstChild:v.lastChild],l&&y){for(b=(f=(u=(d=v[D]||(v[D]={}))[e]||[])[0]===j&&u[1])&&u[2],p=f&&v.childNodes[f];p=++f&&p&&p[m]||(b=f=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){d[e]=[j,f,b];break}}else if(y&&(b=f=(u=(d=t[D]||(t[D]={}))[e]||[])[0]===j&&u[1]),!1===b)for(;(p=++f&&p&&p[m]||(b=f=0)||h.pop())&&((s?!a(p,g):1!==p.nodeType)||!++b||(y&&((d=p[D]||(p[D]={}))[e]=[j,b]),p!==t)););return(b-=r)===i||b%i==0&&0<=b/i}}},PSEUDO:function(e,n){var r,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[D]?a(n):1<a.length?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=a(e,n),o=r.length;o--;)e[i=ne.call(e,r[o])]=!(t[i]=r[o])}):function(e){return a(e,0,r)}):a}},pseudos:{not:i(function(e){var t=[],n=[],r=y(e.replace(xe,"$1"));return r[D]?i(function(e,t,n,i){for(var a,o=r(e,null,i,[]),l=e.length;l--;)(a=o[l])&&(e[l]=!(t[l]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return 0<t(e,n).length}}),contains:i(function(e){return e=e.replace(ie,re),function(t){return-1<(t.textContent||me.text(t)).indexOf(e)}}),lang:i(function(e){return Q.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ie,re).toLowerCase(),function(t){var n;do{if(n=E?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===T},focus:function(e){return e===function(){try{return S.activeElement}catch(e){}}()&&S.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:o(!1),disabled:o(!0),checked:function(e){return a(e,"input")&&!!e.checked||a(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return V.test(e.nodeName)},button:function(e){return a(e,"input")&&"button"===e.type||a(e,"button")},text:function(e){var t;return a(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){var i;for(i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=function(e){return function(t){return a(t,"input")&&t.type===e}}(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=function(e){return function(t){return(a(t,"input")||a(t,"button"))&&t.type===e}}(x);u.prototype=w.filters=w.pseudos,w.setFilters=new u,se.sortStable=D.split("").sort(P).join("")===D,c(),se.sortDetached=r(function(e){return 1&e.compareDocumentPosition(S.createElement("fieldset"))}),me.find=t,me.expr[":"]=me.expr.pseudos,me.unique=me.uniqueSort,t.compile=y,t.select=b,t.setDocument=c,t.escape=me.escapeSelector,t.getText=me.text,t.isXML=me.isXMLDoc,t.selectors=me.expr,t.support=me.support,t.uniqueSort=me.uniqueSort}();var Ce=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&me(e).is(n))break;i.push(e)}return i},Se=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Te=me.expr.match.needsContext,Ee=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;me.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?me.find.matchesSelector(i,e)?[i]:[]:me.find.matches(e,me.grep(t,function(e){return 1===e.nodeType}))},me.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(me(e).filter(function(){for(t=0;t<i;t++)if(me.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)me.find(e,r[t],n);return 1<i?me.uniqueSort(n):n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&Te.test(e)?me(e):e||[],!1).length}})
;var Fe,Ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(me.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Fe,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Ae.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof me?t[0]:t,me.merge(this,me.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:de,!0)),Ee.test(i[1])&&me.isPlainObject(t))for(i in t)ce(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=de.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ce(e)?void 0!==n.ready?n.ready(e):e(me):me.makeArray(e,this)}).prototype=me.fn,Fe=me(de);var Le=/^(?:parents|prev(?:Until|All))/,De={children:!0,contents:!0,next:!0,prev:!0};me.fn.extend({has:function(e){var t=me(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(me.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,a=[],o="string"!=typeof e&&me(e);if(!Te.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&me.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(1<a.length?me.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?ne.call(me(e),this[0]):ne.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(me.uniqueSort(me.merge(this.get(),me(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),me.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ce(e,"parentNode")},parentsUntil:function(e,t,n){return Ce(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return Ce(e,"nextSibling")},prevAll:function(e){return Ce(e,"previousSibling")},nextUntil:function(e,t,n){return Ce(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ce(e,"previousSibling",n)},siblings:function(e){return Se((e.parentNode||{}).firstChild,e)},children:function(e){return Se(e.firstChild)},contents:function(e){return null!=e.contentDocument&&G(e.contentDocument)?e.contentDocument:(a(e,"template")&&(e=e.content||e),me.merge([],e.childNodes))}},function(e,t){me.fn[e]=function(n,i){var r=me.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=me.filter(i,r)),1<this.length&&(De[e]||me.uniqueSort(r),Le.test(e)&&r.reverse()),this.pushStack(r)}});var je=/[^\x20\t\r\n\f]+/g;me.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},me.each(t.match(je)||[],function(e,t){n[t]=!0}),n):me.extend({},e);var r,a,o,l,s=[],c=[],u=-1,d=function(){for(l=l||e.once,o=r=!0;c.length;u=-1)for(a=c.shift();++u<s.length;)!1===s[u].apply(a[0],a[1])&&e.stopOnFalse&&(u=s.length,a=!1);e.memory||(a=!1),r=!1,l&&(s=a?[]:"")},p={add:function(){return s&&(a&&!r&&(u=s.length-1,c.push(a)),function t(n){me.each(n,function(n,r){ce(r)?e.unique&&p.has(r)||s.push(r):r&&r.length&&"string"!==i(r)&&t(r)})}(arguments),a&&!r&&d()),this},remove:function(){return me.each(arguments,function(e,t){for(var n;-1<(n=me.inArray(t,s,n));)s.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<me.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return l=c=[],s=a="",this},disabled:function(){return!s},lock:function(){return l=c=[],a||r||(s=a=""),this},locked:function(){return!!l},fireWith:function(e,t){return l||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),r||d()),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p},me.extend({Deferred:function(t){var n=[["notify","progress",me.Callbacks("memory"),me.Callbacks("memory"),2],["resolve","done",me.Callbacks("once memory"),me.Callbacks("once memory"),0,"resolved"],["reject","fail",me.Callbacks("once memory"),me.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return me.Deferred(function(t){me.each(n,function(n,i){var r=ce(e[i[4]])&&e[i[4]];a[i[1]](function(){var e=r&&r.apply(this,arguments);e&&ce(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){function a(t,n,i,r){return function(){var l=this,s=arguments,d=function(){var e,d;if(!(t<o)){if((e=i.apply(l,s))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,ce(d)?r?d.call(e,a(o,n,c,r),a(o,n,u,r)):(o++,d.call(e,a(o,n,c,r),a(o,n,u,r),a(o,n,c,n.notifyWith))):(i!==c&&(l=void 0,s=[e]),(r||n.resolveWith)(l,s))}},p=r?d:function(){try{d()}catch(e){me.Deferred.exceptionHook&&me.Deferred.exceptionHook(e,p.error),o<=t+1&&(i!==u&&(l=void 0,s=[e]),n.rejectWith(l,s))}};t?p():(me.Deferred.getErrorHook?p.error=me.Deferred.getErrorHook():me.Deferred.getStackHook&&(p.error=me.Deferred.getStackHook()),e.setTimeout(p))}}var o=0;return me.Deferred(function(e){n[0][3].add(a(0,e,ce(r)?r:c,e.notifyWith)),n[1][3].add(a(0,e,ce(t)?t:c)),n[2][3].add(a(0,e,ce(i)?i:u))}).promise()},promise:function(e){return null!=e?me.extend(e,r):r}},a={};return me.each(n,function(e,t){var o=t[2],l=t[5];r[t[1]]=o.add,l&&o.add(function(){i=l},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),o.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=o.fireWith}),r.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,n=t,i=Array(n),r=Z.call(arguments),a=me.Deferred(),o=function(e){return function(n){i[e]=this,r[e]=1<arguments.length?Z.call(arguments):n,--t||a.resolveWith(i,r)}};if(t<=1&&(d(e,a.done(o(n)).resolve,a.reject,!t),"pending"===a.state()||ce(r[n]&&r[n].then)))return a.then();for(;n--;)d(r[n],o(n),a.reject);return a.promise()}});var Ie=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;me.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Ie.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},me.readyException=function(t){e.setTimeout(function(){throw t})};var Oe=me.Deferred();me.fn.ready=function(e){return Oe.then(e).catch(function(e){me.readyException(e)}),this},me.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--me.readyWait:me.isReady)||(me.isReady=!0)!==e&&0<--me.readyWait||Oe.resolveWith(de,[me])}}),me.ready.then=Oe.then,"complete"===de.readyState||"loading"!==de.readyState&&!de.documentElement.doScroll?e.setTimeout(me.ready):(de.addEventListener("DOMContentLoaded",p),e.addEventListener("load",p));var ze=function(e,t,n,r,a,o,l){var s=0,c=e.length,u=null==n;if("object"===i(n))for(s in a=!0,n)ze(e,t,s,n[s],!0,o,l);else if(void 0!==r&&(a=!0,ce(r)||(l=!0),u&&(l?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(me(e),n)})),t))for(;s<c;s++)t(e[s],n,l?r:r.call(e[s],s,t(e[s],n)));return a?e:u?t.call(e):c?t(e[0],n):o},Ne=/^-ms-/,Re=/-([a-z])/g,Pe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Pe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[h(t)]=n;else for(i in t)r[h(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(h):(t=h(t))in i?[t]:t.match(je)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||me.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!me.isEmptyObject(t)}};var He=new m,Me=new m,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$e=/[A-Z]/g;me.extend({hasData:function(e){return Me.hasData(e)||He.hasData(e)},data:function(e,t,n){return Me.access(e,t,n)},removeData:function(e,t){Me.remove(e,t)},_data:function(e,t,n){return He.access(e,t,n)},_removeData:function(e,t){He.remove(e,t)}}),me.fn.extend({data:function(e,t){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=Me.get(a),1===a.nodeType&&!He.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=h(i.slice(5)),v(a,i,r[i]));He.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Me.set(this,e)}):ze(this,function(t){var n;if(a&&void 0===t)return void 0!==(n=Me.get(a,e))?n:void 0!==(n=v(a,e))?n:void 0;this.each(function(){Me.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Me.remove(this,e)})}}),me.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=He.get(e,t),n&&(!i||Array.isArray(n)?i=He.access(e,t,me.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=me.queue(e,t),i=n.length,r=n.shift(),a=me._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,function(){me.dequeue(e,t)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return He.get(e,n)||He.access(e,n,{empty:me.Callbacks("once memory").add(function(){He.remove(e,[t+"queue",n])})})}}),me.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?me.queue(this[0],e):void 0===t?this:this.each(function(){var n=me.queue(this,e,t);me._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&me.dequeue(this,e)})},dequeue:function(e){return this.each(function(){me.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=me.Deferred(),a=this,o=this.length,l=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=He.get(a[o],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(l));return l(),r.promise(t)}});var Ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+Ue+")([a-z%]*)$","i"),We=["Top","Right","Bottom","Left"],Ye=de.documentElement,Xe=function(e){return me.contains(e.ownerDocument,e)},Qe={composed:!0};Ye.getRootNode&&(Xe=function(e){return me.contains(e.ownerDocument,e)||e.getRootNode(Qe)===e.ownerDocument});var Ke=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&Xe(e)&&"none"===me.css(e,"display")},Ve={};me.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ke(this)?me(this).show():me(this).hide()})}});var Je,Ge,Ze=/^(?:checkbox|radio)$/i,et=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,tt=/^$|^module$|\/(?:java|ecma)script/i;Je=de.createDocumentFragment().appendChild(de.createElement("div")),(Ge=de.createElement("input")).setAttribute("type","radio"),Ge.setAttribute("checked","checked"),Ge.setAttribute("name","t"),Je.appendChild(Ge),se.checkClone=Je.cloneNode(!0).cloneNode(!0).lastChild.checked,Je.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!Je.cloneNode(!0).lastChild.defaultValue,Je.innerHTML="<option></option>",se.option=!!Je.lastChild;var nt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};nt.tbody=nt.tfoot=nt.colgroup=nt.caption=nt.thead,nt.th=nt.td,se.option||(nt.optgroup=nt.option=[1,"<select multiple='multiple'>","</select>"]);var it=/<|&#?\w+;/,rt=/^([^.]*)(?:\.(.+)|)/;me.event={global:{},add:function(e,t,n,i,r){var a,o,l,s,c,u,d,p,f,h,m,v=He.get(e);if(Pe(e))for(n.handler&&(n=(a=n).handler,r=a.selector),r&&me.find.matchesSelector(Ye,r),n.guid||(n.guid=me.guid++),(s=v.events)||(s=v.events=Object.create(null)),(o=v.handle)||(o=v.handle=function(t){return void 0!==me&&me.event.triggered!==t.type?me.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(je)||[""]).length;c--;)f=m=(l=rt.exec(t[c])||[])[1],h=(l[2]||"").split(".").sort(),f&&(d=me.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=me.event.special[f]||{},u=me.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&me.expr.match.needsContext.test(r),namespace:h.join(".")},a),(p=s[f])||((p=s[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,h,o)||e.addEventListener&&e.addEventListener(f,o)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),me.event.global[f]=!0)},remove:function(e,t,n,i,r){var a,o,l,s,c,u,d,p,f,h,m,v=He.hasData(e)&&He.get(e);if(v&&(s=v.events)){for(c=(t=(t||"").match(je)||[""]).length;c--;)if(f=m=(l=rt.exec(t[c])||[])[1],h=(l[2]||"").split(".").sort(),f){for(d=me.event.special[f]||{},p=s[f=(i?d.delegateType:d.bindType)||f]||[],l=l[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=p.length;a--;)u=p[a],!r&&m!==u.origType||n&&n.guid!==u.guid||l&&!l.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(a,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));o&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,v.handle)||me.removeEvent(e,f,v.handle),delete s[f])}else for(f in s)me.event.remove(e,f+t[c],n,i,!0);me.isEmptyObject(s)&&He.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,a,o,l=new Array(arguments.length),s=me.event.fix(e),c=(He.get(this,"events")||Object.create(null))[s.type]||[],u=me.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(o=me.event.handlers.call(this,s,c),t=0;(r=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==a.namespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(i=((me.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,a,o,l=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],o={},n=0;n<s;n++)void 0===o[r=(i=t[n]).selector+" "]&&(o[r]=i.needsContext?-1<me(r,this).index(c):me.find(r,this,null,[c]).length),o[r]&&a.push(i);a.length&&l.push({elem:c,handlers:a})}return c=this,s<t.length&&l.push({elem:c,handlers:t.slice(s)}),l},addProp:function(e,t){Object.defineProperty(me.Event.prototype,e,{enumerable:!0,configurable:!0,get:ce(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[me.expando]?e:new me.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ze.test(t.type)&&t.click&&a(t,"input")&&S(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ze.test(t.type)&&t.click&&a(t,"input")&&S(t,"click"),!0},_default:function(e){var t=e.target;return Ze.test(t.type)&&t.click&&a(t,"input")&&He.get(t,"click")||a(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},me.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},me.Event=function(e,t){if(!(this instanceof me.Event))return new me.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?k:_,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&me.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[me.expando]=!0},me.Event.prototype={constructor:me.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=k,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=k,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=k,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},me.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},me.event.addProp),me.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){if(de.documentMode){var n=He.get(this,"handle"),i=me.event.fix(e);i.type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,n(e),i.target===i.currentTarget&&n(i)}else me.event.simulate(t,e.target,me.event.fix(e))}me.event.special[e]={setup:function(){var i;if(S(this,e,!0),!de.documentMode)return!1;(i=He.get(this,t))||this.addEventListener(t,n),He.set(this,t,(i||0)+1)},trigger:function(){return S(this,e),!0},teardown:function(){var e;if(!de.documentMode)return!1;(e=He.get(this,t)-1)?He.set(this,t,e):(this.removeEventListener(t,n),He.remove(this,t))},_default:function(t){return He.get(t.target,e)},delegateType:t},me.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=de.documentMode?this:i,a=He.get(r,t);a||(de.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),He.set(r,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=de.documentMode?this:i,a=He.get(r,t)-1;a?He.set(r,t,a):(de.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),He.remove(r,t))}}}),me.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){me.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||me.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),me.fn.extend({on:function(e,t,n,i){return C(this,e,t,n,i)},one:function(e,t,n,i){return C(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,me(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=_),this.each(function(){me.event.remove(this,e,n,t)})}});var at=/<script|<style|<link/i,ot=/checked\s*(?:[^=]|=\s*.checked.)/i,lt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;me.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,a,o,l,s,c,u=e.cloneNode(!0),d=Xe(e);if(!(se.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||me.isXMLDoc(e)))for(o=b(u),i=0,r=(a=b(e)).length;i<r;i++)l=a[i],s=o[i],"input"===(c=s.nodeName.toLowerCase())&&Ze.test(l.type)?s.checked=l.checked:"input"!==c&&"textarea"!==c||(s.defaultValue=l.defaultValue);if(t)if(n)for(a=a||b(e),o=o||b(u),i=0,r=a.length;i<r;i++)A(a[i],o[i]);else A(e,u);return 0<(o=b(u,"script")).length&&x(o,!d&&b(e,"script")),u},cleanData:function(e){for(var t,n,i,r=me.event.special,a=0;void 0!==(n=e[a]);a++)if(Pe(n)){if(t=n[He.expando]){if(t.events)for(i in t.events)r[i]?me.event.remove(n,i):me.removeEvent(n,i,t.handle);n[He.expando]=void 0}n[Me.expando]&&(n[Me.expando]=void 0)}}}),me.fn.extend({detach:function(e){return D(this,e,!0)},remove:function(e){return D(this,e)},text:function(e){return ze(this,function(e){return void 0===e?me.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return L(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||T(this,e).appendChild(e)})},prepend:function(){return L(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return L(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return L(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(me.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return me.clone(this,e,t)})},html:function(e){return ze(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!at.test(e)&&!nt[(et.exec(e)||["",""])[1].toLowerCase()]){e=me.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(me.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return L(this,arguments,function(t){var n=this.parentNode;me.inArray(this,e)<0&&(me.cleanData(b(this)),n&&n.replaceChild(t,this))},e)}}),me.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){me.fn[e]=function(e){for(var n,i=[],r=me(e),a=r.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),me(r[o])[t](n),te.apply(i,n.get());return this.pushStack(i)}});var st=new RegExp("^("+Ue+")(?!px)[a-z%]+$","i"),ct=/^--/,ut=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},dt=function(e,t,n){var i,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=a[r];return i},pt=new RegExp(We.join("|"),"i");!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ye.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);i="1%"!==t.top,s=12===n(t.marginLeft),u.style.right="60%",o=36===n(t.right),r=36===n(t.width),u.style.position="absolute",a=12===n(u.offsetWidth/3),Ye.removeChild(c),u=null}}function n(e){return Math.round(parseFloat(e))}var i,r,a,o,l,s,c=de.createElement("div"),u=de.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===u.style.backgroundClip,me.extend(se,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,n,i,r;return null==l&&(t=de.createElement("table"),n=de.createElement("tr"),i=de.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",Ye.appendChild(t).appendChild(n).appendChild(i),r=e.getComputedStyle(n),l=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===n.offsetHeight,Ye.removeChild(t)),l}}))}();var ft=["Webkit","Moz","ms"],ht=de.createElement("div").style,mt={},vt=/^(none|table(?!-c[ea]).+)/,gt={position:"absolute",visibility:"hidden",display:"block"},yt={letterSpacing:"0",fontWeight:"400"};me.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=j(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,l=h(t),s=ct.test(t),c=e.style;if(s||(t=O(l)),o=me.cssHooks[t]||me.cssHooks[l],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:c[t];"string"==(a=typeof n)&&(r=Be.exec(n))&&r[1]&&(n=g(e,t,r),a="number"),null!=n&&n==n&&("number"!==a||s||(n+=r&&r[3]||(me.cssNumber[l]?"":"px")),se.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(s?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,a,o,l=h(t);return ct.test(t)||(t=O(l)),(o=me.cssHooks[t]||me.cssHooks[l])&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=j(e,t,i)),"normal"===r&&t in yt&&(r=yt[t]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),me.each(["height","width"],function(e,t){me.cssHooks[t]={get:function(e,n,i){if(n)return!vt.test(me.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?R(e,t,i):dt(e,gt,function(){return R(e,t,i)})},set:function(e,n,i){var r,a=ut(e),o=!se.scrollboxSize()&&"absolute"===a.position,l=(o||i)&&"border-box"===me.css(e,"boxSizing",!1,a),s=i?N(e,t,i,l,a):0;return l&&o&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-N(e,t,"border",!1,a)-.5)),s&&(r=Be.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=me.css(e,t)),z(0,n,s)}}}),me.cssHooks.marginLeft=I(se.reliableMarginLeft,function(e,t){if(t)return(parseFloat(j(e,"marginLeft"))||e.getBoundingClientRect().left-dt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),me.each({margin:"",padding:"",border:"Width"},function(e,t){me.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+We[i]+t]=a[i]||a[i-2]||a[0];return r}},"margin"!==e&&(me.cssHooks[e+t].set=z)}),me.fn.extend({css:function(e,t){return ze(this,function(e,t,n){var i,r,a={},o=0;if(Array.isArray(t)){for(i=ut(e),r=t.length;o<r;o++)a[t[o]]=me.css(e,t[o],!1,i);return a}return void 0!==n?me.style(e,t,n):me.css(e,t)},e,t,1<arguments.length)}}),((me.Tween=P).prototype={constructor:P,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||me.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(me.cssNumber[n]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,n=P.propHooks[this.prop];return this.options.duration?this.pos=t=me.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):P.propHooks._default.set(this),this}}).init.prototype=P.prototype,(P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=me.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){me.fx.step[e.prop]?me.fx.step[e.prop](e):1!==e.elem.nodeType||!me.cssHooks[e.prop]&&null==e.elem.style[O(e.prop)]?e.elem[e.prop]=e.now:me.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},me.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},me.fx=P.prototype.init,me.fx.step={};var bt,xt,wt,kt,_t=/^(?:toggle|show|hide)$/,Ct=/queueHooks$/;me.Animation=me.extend(U,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return g(n.elem,e,Be.exec(t),n),n}]},tweener:function(e,t){ce(e)?(t=e,e=["*"]):e=e.match(je);for(var n,i=0,r=e.length;i<r;i++)n=e[i],U.tweeners[n]=U.tweeners[n]||[],U.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,a,o,l,s,c,u,d="width"in t||"height"in t,p=this,f={},h=e.style,m=e.nodeType&&Ke(e),v=He.get(e,"fxshow");for(i in n.queue||(null==(o=me._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,p.always(function(){p.always(function(){o.unqueued--,me.queue(e,"fx").length||o.empty.fire()})})),t)if(r=t[i],_t.test(r)){if(delete t[i],a=a||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;m=!0}f[i]=v&&v[i]||me.style(e,i)}if((s=!me.isEmptyObject(t))||!me.isEmptyObject(f))for(i in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=v&&v.display)&&(c=He.get(e,"display")),"none"===(u=me.css(e,"display"))&&(c?u=c:(y([e],!0),c=e.style.display||c,u=me.css(e,"display"),y([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===me.css(e,"float")&&(s||(p.done(function(){h.display=c}),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),s=!1,f)s||(v?"hidden"in v&&(m=v.hidden):v=He.access(e,"fxshow",{display:c}),a&&(v.hidden=!m),m&&y([e],!0),p.done(function(){for(i in m||y([e]),He.remove(e,"fxshow"),f)me.style(e,i,f[i])})),s=$(m?v[i]:0,i,p),i in v||(v[i]=s.start,m&&(s.end=s.start,s.start=0))}],prefilter:function(e,t){t?U.prefilters.unshift(e):U.prefilters.push(e)}}),me.speed=function(e,t,n){var i=e&&"object"==typeof e?me.extend({},e):{complete:n||!n&&t||ce(e)&&e,duration:e,easing:n&&t||t&&!ce(t)&&t};return me.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in me.fx.speeds?i.duration=me.fx.speeds[i.duration]:i.duration=me.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ce(i.old)&&i.old.call(this),i.queue&&me.dequeue(this,i.queue)},i},me.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ke).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=me.isEmptyObject(e),a=me.speed(t,n,i),o=function(){var t=U(this,me.extend({},e),a);(r||He.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=me.timers,o=He.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&Ct.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(n),t=!1,a.splice(r,1));!t&&n||me.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=He.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=me.timers,o=i?i.length:0;for(n.finish=!0,me.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),me.each(["toggle","show","hide"],function(e,t){var n=me.fn[t];me.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(q(t,!0),e,i,r)}}),me.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){me.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),me.timers=[],me.fx.tick=function(){var e,t=0,n=me.timers;for(bt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||me.fx.stop(),bt=void 0},me.fx.timer=function(e){me.timers.push(e),me.fx.start()},me.fx.interval=13,me.fx.start=function(){xt||(xt=!0,H())},me.fx.stop=function(){xt=null},me.fx.speeds={slow:600,fast:200,_default:400},me.fn.delay=function(t,n){return t=me.fx&&me.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,i){
var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},wt=de.createElement("input"),kt=de.createElement("select").appendChild(de.createElement("option")),wt.type="checkbox",se.checkOn=""!==wt.value,se.optSelected=kt.selected,(wt=de.createElement("input")).value="t",wt.type="radio",se.radioValue="t"===wt.value;var St,Tt=me.expr.attrHandle;me.fn.extend({attr:function(e,t){return ze(this,me.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){me.removeAttr(this,e)})}}),me.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?me.prop(e,t,n):(1===a&&me.isXMLDoc(e)||(r=me.attrHooks[t.toLowerCase()]||(me.expr.match.bool.test(t)?St:void 0)),void 0!==n?null===n?void me.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=me.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&"radio"===t&&a(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(je);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),St={set:function(e,t,n){return!1===t?me.removeAttr(e,n):e.setAttribute(n,n),n}},me.each(me.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tt[t]||me.find.attr;Tt[t]=function(e,t,i){var r,a,o=t.toLowerCase();return i||(a=Tt[o],Tt[o]=r,r=null!=n(e,t,i)?o:null,Tt[o]=a),r}});var Et=/^(?:input|select|textarea|button)$/i,Ft=/^(?:a|area)$/i;me.fn.extend({prop:function(e,t){return ze(this,me.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[me.propFix[e]||e]})}}),me.extend({prop:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&me.isXMLDoc(e)||(t=me.propFix[t]||t,r=me.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=me.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||Ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),se.optSelected||(me.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),me.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){me.propFix[this.toLowerCase()]=this}),me.fn.extend({addClass:function(e){var t,n,i,r,a,o;return ce(e)?this.each(function(t){me(this).addClass(e.call(this,t,W(this)))}):(t=Y(e)).length?this.each(function(){if(i=W(this),n=1===this.nodeType&&" "+B(i)+" "){for(a=0;a<t.length;a++)r=t[a],n.indexOf(" "+r+" ")<0&&(n+=r+" ");o=B(n),i!==o&&this.setAttribute("class",o)}}):this},removeClass:function(e){var t,n,i,r,a,o;return ce(e)?this.each(function(t){me(this).removeClass(e.call(this,t,W(this)))}):arguments.length?(t=Y(e)).length?this.each(function(){if(i=W(this),n=1===this.nodeType&&" "+B(i)+" "){for(a=0;a<t.length;a++)for(r=t[a];-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");o=B(n),i!==o&&this.setAttribute("class",o)}}):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,a,o=typeof e,l="string"===o||Array.isArray(e);return ce(e)?this.each(function(n){me(this).toggleClass(e.call(this,n,W(this),t),t)}):"boolean"==typeof t&&l?t?this.addClass(e):this.removeClass(e):(n=Y(e),this.each(function(){if(l)for(a=me(this),r=0;r<n.length;r++)i=n[r],a.hasClass(i)?a.removeClass(i):a.addClass(i);else void 0!==e&&"boolean"!==o||((i=W(this))&&He.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":He.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+B(W(n))+" ").indexOf(t))return!0;return!1}});var At=/\r/g;me.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=ce(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,me(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=me.map(r,function(e){return null==e?"":e+""})),(t=me.valHooks[this.type]||me.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=me.valHooks[r.type]||me.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(At,""):null==n?"":n:void 0}}),me.extend({valHooks:{option:{get:function(e){var t=me.find.attr(e,"value");return null!=t?t:B(me.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,l="select-one"===e.type,s=l?null:[],c=l?o+1:r.length;for(i=o<0?c:l?o:0;i<c;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!a(n.parentNode,"optgroup"))){if(t=me(n).val(),l)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,a=me.makeArray(t),o=r.length;o--;)((i=r[o]).selected=-1<me.inArray(me.valHooks.option.get(i),a))&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),me.each(["radio","checkbox"],function(){me.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<me.inArray(me(e).val(),t)}},se.checkOn||(me.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Lt=e.location,Dt={guid:Date.now()},jt=/\?/;me.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||me.error("Invalid XML: "+(i?me.map(i.childNodes,function(e){return e.textContent}).join("\n"):t)),n};var It=/^(?:focusinfocus|focusoutblur)$/,Ot=function(e){e.stopPropagation()};me.extend(me.event,{trigger:function(t,n,i,r){var a,o,l,s,c,u,d,p,f=[i||de],h=ae.call(t,"type")?t.type:t,m=ae.call(t,"namespace")?t.namespace.split("."):[];if(o=p=l=i=i||de,3!==i.nodeType&&8!==i.nodeType&&!It.test(h+me.event.triggered)&&(-1<h.indexOf(".")&&(h=(m=h.split(".")).shift(),m.sort()),c=h.indexOf(":")<0&&"on"+h,(t=t[me.expando]?t:new me.Event(h,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:me.makeArray(n,[t]),d=me.event.special[h]||{},r||!d.trigger||!1!==d.trigger.apply(i,n))){if(!r&&!d.noBubble&&!ue(i)){for(s=d.delegateType||h,It.test(s+h)||(o=o.parentNode);o;o=o.parentNode)f.push(o),l=o;l===(i.ownerDocument||de)&&f.push(l.defaultView||l.parentWindow||e)}for(a=0;(o=f[a++])&&!t.isPropagationStopped();)p=o,t.type=1<a?s:d.bindType||h,(u=(He.get(o,"events")||Object.create(null))[t.type]&&He.get(o,"handle"))&&u.apply(o,n),(u=c&&o[c])&&u.apply&&Pe(o)&&(t.result=u.apply(o,n),!1===t.result&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),n)||!Pe(i)||c&&ce(i[h])&&!ue(i)&&((l=i[c])&&(i[c]=null),me.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,Ot),i[h](),t.isPropagationStopped()&&p.removeEventListener(h,Ot),me.event.triggered=void 0,l&&(i[c]=l)),t.result}},simulate:function(e,t,n){var i=me.extend(new me.Event,n,{type:e,isSimulated:!0});me.event.trigger(i,null,t)}}),me.fn.extend({trigger:function(e,t){return this.each(function(){me.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return me.event.trigger(e,t,n,!0)}});var zt=/\[\]$/,Nt=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;me.param=function(e,t){var n,i=[],r=function(e,t){var n=ce(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!me.isPlainObject(e))me.each(e,function(){r(this.name,this.value)});else for(n in e)X(n,e[n],t,r);return i.join("&")},me.fn.extend({serialize:function(){return me.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=me.prop(this,"elements");return e?me.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!me(this).is(":disabled")&&Pt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!Ze.test(e))}).map(function(e,t){var n=me(this).val();return null==n?null:Array.isArray(n)?me.map(n,function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}}):{name:t.name,value:n.replace(Nt,"\r\n")}}).get()}});var Ht=/%20/g,Mt=/#.*$/,qt=/([?&])_=[^&]*/,$t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,Bt=/^\/\//,Wt={},Yt={},Xt="*/".concat("*"),Qt=de.createElement("a");Qt.href=Lt.href,me.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Lt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":me.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,me.ajaxSettings),t):V(me.ajaxSettings,e)},ajaxPrefilter:Q(Wt),ajaxTransport:Q(Yt),ajax:function(t,n){function i(t,n,i,l){var c,p,f,x,w,k=n;u||(u=!0,s&&e.clearTimeout(s),r=void 0,o=l||"",_.readyState=0<t?4:0,c=200<=t&&t<300||304===t,i&&(x=function(e,t,n){for(var i,r,a,o,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in l)if(l[r]&&l[r].test(i)){s.unshift(r);break}if(s[0]in n)a=s[0];else{for(r in n){if(!s[0]||e.converters[r+" "+s[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==s[0]&&s.unshift(a),n[a]}(h,_,i)),!c&&-1<me.inArray("script",h.dataTypes)&&me.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),x=function(e,t,n,i){var r,a,o,l,s,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!s&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=a,a=u.shift())if("*"===a)a=s;else if("*"!==s&&s!==a){if(!(o=c[s+" "+a]||c["* "+a]))for(r in c)if((l=r.split(" "))[1]===a&&(o=c[s+" "+l[0]]||c["* "+l[0]])){!0===o?o=c[r]:!0!==c[r]&&(a=l[0],u.unshift(l[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+s+" to "+a}}}return{state:"success",data:t}}(h,x,_,c),c?(h.ifModified&&((w=_.getResponseHeader("Last-Modified"))&&(me.lastModified[a]=w),(w=_.getResponseHeader("etag"))&&(me.etag[a]=w)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=x.state,p=x.data,c=!(f=x.error))):(f=k,!t&&k||(k="error",t<0&&(t=0))),_.status=t,_.statusText=(n||k)+"",c?g.resolveWith(m,[p,k,_]):g.rejectWith(m,[_,k,f]),_.statusCode(b),b=void 0,d&&v.trigger(c?"ajaxSuccess":"ajaxError",[_,h,c?p:f]),y.fireWith(m,[_,k]),d&&(v.trigger("ajaxComplete",[_,h]),--me.active||me.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,a,o,l,s,c,u,d,p,f,h=me.ajaxSetup({},n),m=h.context||h,v=h.context&&(m.nodeType||m.jquery)?me(m):me.event,g=me.Deferred(),y=me.Callbacks("once memory"),b=h.statusCode||{},x={},w={},k="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(u){if(!l)for(l={};t=$t.exec(o);)l[t[1].toLowerCase()+" "]=(l[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=l[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)_.always(e[_.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||k;return r&&r.abort(t),i(0,t),this}};if(g.promise(_),h.url=((t||h.url||Lt.href)+"").replace(Bt,Lt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(je)||[""],null==h.crossDomain){c=de.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=Qt.protocol+"//"+Qt.host!=c.protocol+"//"+c.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=me.param(h.data,h.traditional)),K(Wt,h,n,_),u)return _;for(p in(d=me.event&&h.global)&&0==me.active++&&me.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ut.test(h.type),a=h.url.replace(Mt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ht,"+")):(f=h.url.slice(a.length),h.data&&(h.processData||"string"==typeof h.data)&&(a+=(jt.test(a)?"&":"?")+h.data,delete h.data),!1===h.cache&&(a=a.replace(qt,"$1"),f=(jt.test(a)?"&":"?")+"_="+Dt.guid+++f),h.url=a+f),h.ifModified&&(me.lastModified[a]&&_.setRequestHeader("If-Modified-Since",me.lastModified[a]),me.etag[a]&&_.setRequestHeader("If-None-Match",me.etag[a])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Xt+"; q=0.01":""):h.accepts["*"]),h.headers)_.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(m,_,h)||u))return _.abort();if(k="abort",y.add(h.complete),_.done(h.success),_.fail(h.error),r=K(Yt,h,n,_)){if(_.readyState=1,d&&v.trigger("ajaxSend",[_,h]),u)return _;h.async&&0<h.timeout&&(s=e.setTimeout(function(){_.abort("timeout")},h.timeout));try{u=!1,r.send(x,i)}catch(t){if(u)throw t;i(-1,t)}}else i(-1,"No Transport");return _},getJSON:function(e,t,n){return me.get(e,t,n,"json")},getScript:function(e,t){return me.get(e,void 0,t,"script")}}),me.each(["get","post"],function(e,t){me[t]=function(e,n,i,r){return ce(n)&&(r=r||i,i=n,n=void 0),me.ajax(me.extend({url:e,type:t,dataType:r,data:n,success:i},me.isPlainObject(e)&&e))}}),me.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),me._evalUrl=function(e,t,n){return me.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){me.globalEval(e,t,n)}})},me.fn.extend({wrapAll:function(e){var t;return this[0]&&(ce(e)&&(e=e.call(this[0])),t=me(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ce(e)?this.each(function(t){me(this).wrapInner(e.call(this,t))}):this.each(function(){var t=me(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ce(e);return this.each(function(n){me(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){me(this).replaceWith(this.childNodes)}),this}}),me.expr.pseudos.hidden=function(e){return!me.expr.pseudos.visible(e)},me.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},me.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Vt=me.ajaxSettings.xhr();se.cors=!!Vt&&"withCredentials"in Vt,se.ajax=Vt=!!Vt,me.ajaxTransport(function(t){var n,i;if(se.cors||Vt&&!t.crossDomain)return{send:function(r,a){var o,l=t.xhr();if(l.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)l[o]=t.xhrFields[o];for(o in t.mimeType&&l.overrideMimeType&&l.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)l.setRequestHeader(o,r[o]);n=function(e){return function(){n&&(n=i=l.onload=l.onerror=l.onabort=l.ontimeout=l.onreadystatechange=null,"abort"===e?l.abort():"error"===e?"number"!=typeof l.status?a(0,"error"):a(l.status,l.statusText):a(Kt[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}},l.onload=n(),i=l.onerror=l.ontimeout=n("error"),void 0!==l.onabort?l.onabort=i:l.onreadystatechange=function(){4===l.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{l.send(t.hasContent&&t.data||null)}catch(r){if(n)throw r}},abort:function(){n&&n()}}}),me.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),me.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return me.globalEval(e),e}}}),me.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),me.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=me("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),de.head.appendChild(t[0])},abort:function(){n&&n()}}});var Jt,Gt=[],Zt=/(=)\?(?=&|$)|\?\?/;me.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||me.expando+"_"+Dt.guid++;return this[e]=!0,e}}),me.ajaxPrefilter("json jsonp",function(t,n,i){var r,a,o,l=!1!==t.jsonp&&(Zt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(t.data)&&"data");if(l||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=ce(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,l?t[l]=t[l].replace(Zt,"$1"+r):!1!==t.jsonp&&(t.url+=(jt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||me.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=e[r],e[r]=function(){o=arguments},i.always(function(){void 0===a?me(e).removeProp(r):e[r]=a,t[r]&&(t.jsonpCallback=n.jsonpCallback,Gt.push(r)),o&&ce(a)&&a(o[0]),o=a=void 0}),"script"}),se.createHTMLDocument=((Jt=de.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Jt.childNodes.length),me.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(se.createHTMLDocument?((i=(t=de.implementation.createHTMLDocument("")).createElement("base")).href=de.location.href,t.head.appendChild(i)):t=de),a=!n&&[],(r=Ee.exec(e))?[t.createElement(r[1])]:(r=w([e],t,a),a&&a.length&&me(a).remove(),me.merge([],r.childNodes)));var i,r,a},me.fn.load=function(e,t,n){var i,r,a,o=this,l=e.indexOf(" ");return-1<l&&(i=B(e.slice(l)),e=e.slice(0,l)),ce(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<o.length&&me.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?me("<div>").append(me.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},me.expr.pseudos.animated=function(e){return me.grep(me.timers,function(t){return e===t.elem}).length},me.offset={setOffset:function(e,t,n){var i,r,a,o,l,s,c=me.css(e,"position"),u=me(e),d={};"static"===c&&(e.style.position="relative"),l=u.offset(),a=me.css(e,"top"),s=me.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(a+s).indexOf("auto")?(o=(i=u.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(s)||0),ce(t)&&(t=t.call(e,n,me.extend({},l))),null!=t.top&&(d.top=t.top-l.top+o),null!=t.left&&(d.left=t.left-l.left+r),"using"in t?t.using.call(e,d):u.css(d)}},me.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){me.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===me.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===me.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=me(e).offset()).top+=me.css(e,"borderTopWidth",!0),r.left+=me.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-me.css(i,"marginTop",!0),left:t.left-r.left-me.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===me.css(e,"position");)e=e.offsetParent;return e||Ye})}}),me.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;me.fn[e]=function(i){return ze(this,function(e,i,r){var a;if(ue(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===r)return a?a[t]:e[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):e[i]=r},e,i,arguments.length)}}),me.each(["top","left"],function(e,t){me.cssHooks[t]=I(se.pixelPosition,function(e,n){if(n)return n=j(e,t),st.test(n)?me(e).position()[t]+"px":n})}),me.each({Height:"height",Width:"width"},function(e,t){me.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){me.fn[i]=function(r,a){var o=arguments.length&&(n||"boolean"!=typeof r),l=n||(!0===r||!0===a?"margin":"border");return ze(this,function(t,n,r){var a;return ue(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===r?me.css(t,n,l):me.style(t,n,r,l)},t,o?r:void 0,o)}})}),me.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){me.fn[t]=function(e){return this.on(t,e)}}),me.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),me.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){me.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}});var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;me.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),ce(e))return i=Z.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(Z.call(arguments)))}).guid=e.guid=e.guid||me.guid++,r},me.holdReady=function(e){e?me.readyWait++:me.ready(!0)},me.isArray=Array.isArray,me.parseJSON=JSON.parse,me.nodeName=a,me.isFunction=ce,me.isWindow=ue,me.camelCase=h,me.type=i,me.now=Date.now,me.isNumeric=function(e){var t=me.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},me.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return me});var tn=e.jQuery,nn=e.$;return me.noConflict=function(t){return e.$===me&&(e.$=nn),t&&e.jQuery===me&&(e.jQuery=tn),me},void 0===t&&(e.jQuery=e.$=me),me}),require.config({urlArgs:"v="+requirejs.s.contexts._.config.config.site.version,include:["css","toastr","yzn","backend","backend-init","table","form","selectpage","dragsort"],paths:{form:"require-form",table:"require-table",upload:"require-upload",dropzone:"dropzone.min",echarts:"echarts.min","echarts-theme":"echarts-theme",jquery:"../libs/jquery/jquery.min",layui:"../libs/layui/layui",toastr:"../libs/toastr/toastr",pearAdmin:"../libs/pear/admin",pearFrame:"../libs/pear/frame",pearFullscreen:"../libs/pear/fullscreen",pearMenu:"../libs/pear/menu",pearTab:"../libs/pear/tab",pearTheme:"../libs/pear/theme",clipboard:"../libs/clipboard/clipboard.min",selectpage:"../libs/selectpage/selectpage",dragsort:"../libs/dragsort/jquery.dragsort",sortable:"../libs/Sortable/Sortable.min",jstree:"../libs/jstree/jstree.min",iconPicker:"../libs/iconPicker/iconPicker",citypicker:"../libs/citypicker/js/city-picker.min","citypicker-data":"../libs/citypicker/js/city-picker.data.min",tagsinput:"../libs/tagsinput/tagsinput.min",cxselect:"../libs/cxselect/jquery.cxselect"},shim:{layui:{exports:"layui"},addons:["backend"],jstree:["css!../libs/jstree/themes/default/style.css"],citypicker:["citypicker-data","css!../libs/citypicker/css/city-picker.css"],tagsinput:["css!../libs/tagsinput/tagsinput.min.css"]},baseUrl:requirejs.s.contexts._.config.config.site.cdnurl+"/assets/js/",map:{"*":{css:"../libs/require-css/css.min"}},waitSeconds:60,charset:"utf-8"}),require(["jquery"],function(e,t){var n=requirejs.s.contexts._.config.config;window.Config=n;var i={};i["backend/"]="backend/",require.config({paths:i}),e(function(){require(["yzn"],function(e){require(["backend","backend-init","addons"],function(e,t,i){n.jsname&&require([n.jsname],function(e){e.hasOwnProperty(n.actionname)?e[n.actionname]():e.hasOwnProperty("_empty")&&e._empty()},function(e){console.error(e)})})})})}),define("require-backend",function(){}),define("../libs/require-css/css.min",[],function(){if("undefined"==typeof window)return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,i=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]?i=!1:t[4]&&(n=parseInt(t[4])<18);var r={};r.pluginBuilder="./css-builder";var a,o,l,s=function(){a=document.createElement("style"),e.appendChild(a),o=a.styleSheet||a.sheet},c=0,u=[],d=function(e){o.addImport(e),a.onload=function(){p()},31==++c&&(s(),c=0)},p=function(){l();var e=u.shift();return e?(l=e[1],void d(e[0])):void(l=null)},f=function(e,t){if(o&&o.addImport||s(),o&&o.addImport)l?u.push([e,t]):(d(e),l=t);else{a.textContent='@import "'+e+'";';var n=setInterval(function(){try{a.sheet.cssRules,clearInterval(n),t()}catch(e){}},10)}},h=function(t,n){var r=document.createElement("link");if(r.type="text/css",r.rel="stylesheet",i)r.onload=function(){r.onload=function(){},setTimeout(n,7)};else var a=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){if(document.styleSheets[e].href==r.href)return clearInterval(a),n()}},10);r.href=t,e.appendChild(r)};return r.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},r.load=function(e,t,i,r){(n?f:h)(t.toUrl(e+".css"),i)},r}),function(e){e("toastr",["jquery"],function(e){return function(){function t(e,t,n){return h({type:w.error,iconClass:m().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=m()),g=e("#"+t.containerId),g.length?g:(n&&(g=d(t)),g)}function i(e,t,n){return h({type:w.info,iconClass:m().iconClasses.info,message:e,optionsOverride:n,title:t})}function r(e){y=e}function a(e,t,n){return h({type:w.success,iconClass:m().iconClasses.success,message:e,optionsOverride:n,title:t})}function o(e,t,n){return h({type:w.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:n,title:t})}function l(e,t){var i=m();g||n(i),u(e,i,t)||c(i)}function s(t){var i=m();if(g||n(i),t&&0===e(":focus",t).length)return void v(t);g.children().length&&g.remove()}function c(t){for(var n=g.children(),i=n.length-1;i>=0;i--)u(e(n[i]),t)}function u(t,n,i){var r=!(!i||!i.force)&&i.force;return!(!t||!r&&0!==e(":focus",t).length)&&(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){v(t)}}),!0)}function d(t){return g=e("<div/>").attr("id",t.containerId).addClass(t.positionClass),g.appendTo(e(t.target)),g}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function f(e){y&&y(e)}function h(t){function i(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(){var e="";switch(t.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}S.attr("aria-live",e)}function a(){t.iconClass&&S.addClass(k.toastClass).addClass(_)}function o(){k.newestOnTop?g.prepend(S):g.append(S)}function l(){if(t.title){var e=t.title;k.escapeHtml&&(e=i(t.title)),T.append(e).addClass(k.titleClass),S.append(T)}}function s(){if(t.message){var e=t.message;k.escapeHtml&&(e=i(t.message)),E.append(e).addClass(k.messageClass),S.append(E)}}function c(){k.closeButton&&(A.addClass(k.closeClass).attr("role","button"),S.prepend(A))}function u(){k.progressBar&&(F.addClass(k.progressClass),S.prepend(F))}function d(){k.rtl&&S.addClass("rtl")}function p(t){var n=t&&!1!==k.closeMethod?k.closeMethod:k.hideMethod,i=t&&!1!==k.closeDuration?k.closeDuration:k.hideDuration,r=t&&!1!==k.closeEasing?k.closeEasing:k.hideEasing;if(!e(":focus",S).length||t)return clearTimeout(L.intervalId),S[n]({duration:i,easing:r,complete:function(){v(S),clearTimeout(C),k.onHidden&&"hidden"!==D.state&&k.onHidden(),D.state="hidden",D.endTime=new Date,f(D)}})}function h(){(k.timeOut>0||k.extendedTimeOut>0)&&(C=setTimeout(p,k.extendedTimeOut),L.maxHideTime=parseFloat(k.extendedTimeOut),L.hideEta=(new Date).getTime()+L.maxHideTime)}function y(){clearTimeout(C),L.hideEta=0,S.stop(!0,!0)[k.showMethod]({duration:k.showDuration,easing:k.showEasing})}function w(){var e=(L.hideEta-(new Date).getTime())/L.maxHideTime*100;F.width(e+"%")}var k=m(),_=t.iconClass||k.iconClass;if(void 0!==t.optionsOverride&&(k=e.extend(k,t.optionsOverride),_=t.optionsOverride.iconClass||_),!function(e,t){if(e.preventDuplicates){if(t.message===b)return!0;b=t.message}return!1}(k,t)){x++,g=n(k,!0);var C=null,S=e("<div/>"),T=e("<div/>"),E=e("<div/>"),F=e("<div/>"),A=e(k.closeHtml),L={intervalId:null,hideEta:null,maxHideTime:null},D={toastId:x,state:"visible",startTime:new Date,options:k,map:t};return function(){a(),l(),s(),c(),u(),d(),o(),r()}(),function(){S.hide(),S[k.showMethod]({duration:k.showDuration,easing:k.showEasing,complete:k.onShown}),k.timeOut>0&&(C=setTimeout(p,k.timeOut),L.maxHideTime=parseFloat(k.timeOut),L.hideEta=(new Date).getTime()+L.maxHideTime,k.progressBar&&(L.intervalId=setInterval(w,10)))}(),function(){k.closeOnHover&&S.hover(y,h),!k.onclick&&k.tapToDismiss&&S.click(p),k.closeButton&&A&&A.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),k.onCloseClick&&k.onCloseClick(e),p(!0)}),k.onclick&&S.click(function(e){k.onclick(e),p()})}(),f(D),k.debug&&console&&console.log(D),S}}function m(){return e.extend({},p(),k.options)}function v(e){g||(g=n()),e.is(":visible")||(e.remove(),e=null,0===g.children().length&&(g.remove(),b=void 0))}var g,y,b,x=0,w={error:"error",info:"info",success:"success",warning:"warning"},k={clear:l,remove:s,error:t,getContainer:n,info:i,options:{},subscribe:r,success:a,version:"2.1.4",warning:o};return k}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)}),define("yzn",["jquery","toastr","layui"],function(e,t,n){var i=n.layer,r={config:{toastr:{closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",
hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}},events:{onAjaxSuccess:function(e,n){var i=void 0!==e.data?e.data:null,r=void 0!==e.msg&&e.msg?e.msg:"æä½æå!";if("function"==typeof n){if(!1===n.call(this,i,e))return}t.success(r)},onAjaxError:function(e,n){var i=void 0!==e.data?e.data:null;if("function"==typeof n){if(!1===n.call(this,i,e))return}t.error(e.msg)},onAjaxResponse:function(t){try{var n="object"==typeof t?t:JSON.parse(t);n.hasOwnProperty("code")||e.extend(n,{code:-2,msg:t,data:null})}catch(e){var n={code:-1,msg:e.message,data:null}}return n}},api:{parame:function(e,t){return void 0!==e?e:t},checkAuth:function(t,n){var i=e(n).data("auth-"+t);return!(void 0!==i&&!i)||(t.indexOf("?")>=0&&(t=t.replace(/([?#])[^'"]*/,"")),"1"===e(n).attr("data-auth-"+t.toLowerCase()))},checkMobile:function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!1,i=0;i<t.length;i++)if(e.indexOf(t[i])>0){n=!0;break}var r=window.screen.width,a=window.screen.height;return r<600&&a<800&&(n=!0),n},ajax:function(t,n,a){t="string"==typeof t?{url:t}:t;var o;return(void 0===t.loading||t.loading)&&(o=i.load(t.loading||0)),t=e.extend({type:"POST",dataType:"json",xhrFields:{withCredentials:!0},success:function(e){o&&i.close(o),e=r.events.onAjaxResponse(e),1===e.code?r.events.onAjaxSuccess(e,n):r.events.onAjaxError(e,a)},error:function(e){o&&i.close(o);var t={code:e.status,msg:e.statusText,data:null};r.events.onAjaxError(t,a)}},t),e.ajax(t)},fixurl:function(e){if("/"!==e.substr(0,1)){new RegExp("^(?:[a-z]+:)?//","i").test(e)||(e=Config.moduleurl+"/"+e)}else"/addons/"===e.substr(0,8)&&(e=Config.__PUBLIC__.replace(/(\/*$)/g,"")+e);return e},cdnurl:function(e,t){var n=new RegExp("^((?:[a-z]+:)?\\/\\/|data:image\\/)","i"),i=Config.upload.cdnurl;return void 0!==t&&!0!==t&&0!==i.indexOf("/")||(e=n.test(e)||i&&0===e.indexOf(i)?e:i+e),t&&!n.test(e)&&(t="string"==typeof t?t:location.origin,e=t+e),e},query:function(e,t){if(t||(t=window.location.href),!e)return"";e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&/]"+e+"([=/]([^&#/?]*)|&|#|$)"),i=n.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},open:function(t,n,a){n=a&&a.title?a.title:n||"",t=r.api.fixurl(t),t=t+(t.indexOf("?")>-1?"&":"?")+"dialog=1";var o=void 0!=r.config.openArea?r.config.openArea:[e(window).width()>800?"800px":"95%",e(window).height()>600?"600px":"95%"],l=a&&"function"==typeof a.success?a.success:e.noop;return a&&"function"==typeof a.success&&delete a.success,a=e.extend({type:2,title:n,shadeClose:!0,shade:!1,maxmin:!0,moveOut:!0,area:o,content:t,zIndex:i.zIndex,success:function(t,n){var a=this;e(t).data("callback",a.callback),i.setTop(t);try{var o=i.getChildFrame("html",n),s=o.find(".layer-footer");if(r.api.layerfooter(t,n,a),s.length>0){var c=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(c){var u=s[0],d=new c(function(e){r.api.layerfooter(t,n,a),e.forEach(function(e){})}),p={attributes:!0,childList:!0,characterData:!0,subtree:!0};d.observe(u,p)}}}catch(e){}e(t).height()>e(window).height()&&i.style(n,{top:0,height:e(window).height()}),l.call(this,t,n)}},a||{}),i.open(a)},close:function(e){var t=parent.Layer.getFrameIndex(window.name),n=parent.$("#layui-layer"+t).data("callback");parent.Layer.close(t),"function"==typeof n&&n.call(void 0,e)},layerfooter:function(t,n,r){var a=i.getChildFrame("html",n),o=a.find(".layer-footer");if(o.length>0){e(".layui-layer-footer",t).remove();var l=e("<div />").addClass("layui-layer-btn layui-layer-footer");l.html(o.html()),l.insertAfter(t.find(".layui-layer-content")),l.on("click",".layui-btn",function(){if(!e(this).hasClass("disabled")&&!e(this).parent().hasClass("disabled")){var t=l.find(".layui-btn").index(this);e(".layui-btn:eq("+t+")",o).trigger("click")}});var s=t.find(".layui-layer-title").outerHeight()||0,c=t.find(".layui-layer-btn").outerHeight()||0;e("iframe",t).height(t.height()-s-c)}if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var s=t.find(".layui-layer-title").outerHeight()||0,c=t.find(".layui-layer-btn").outerHeight()||0;e("iframe",t).parent().css("height",t.height()-s-c),e("iframe",t).css("height","100%")}},success:function(t,n){var r="function"==typeof t;return r&&(n=t),i.msg("æä½æå!",e.extend({offset:0,icon:1},r?{}:t),n)},error:function(t,n){var r="function"==typeof t;return r&&(n=t),i.msg("æä½å¤±è´¥!",e.extend({offset:0,icon:2},r?{}:t),n)},msg:function(e,t){var n="function"==typeof t?t:function(){void 0!==t&&t&&(location.href=t)};i.msg(e,{time:2e3},n)},toastr:t,layer:i},cache:{setStorage:function(e,t){null!=t&&"undefined"!==t?n.data(e,{key:e,value:t}):n.data(e,{key:e,remove:!0})},getStorage:function(e){var t=n.data(e);return!!t&&t[e]}},init:function(){e.fn.extend({size:function(){return e(this).length}}),e.ajaxSetup({beforeSend:function(e,t){t.url=r.api.fixurl(t.url)}}),i.config({skin:"layui-layer-yzn"}),e(window).keyup(function(t){if(27==t.keyCode&&e(".layui-layer").length>0){var n=0;e(".layui-layer").each(function(){n=Math.max(n,parseInt(e(this).attr("times")))}),n&&i.close(n)}}),t.options=r.config.toastr}};return window.Layer=i,window.Toastr=t,window.Yzn=r,r.init(),r}),define("backend",["yzn"],function(e){var t={api:{sidebar:function(t){colorArr=["red","orange","green","cyan","black","gray","blue"],$colorNums=colorArr.length,badgeList={},$.each(t,function(t,n){$url=e.api.fixurl(t),$.isArray(n)?($nums=void 0!==n[0]?n[0]:0,$color=void 0!==n[1]?n[1]:colorArr[(isNaN($nums)?$nums.length:$nums)%$colorNums],$class=void 0!==n[2]?n[2]:"layui-badge"):($nums=n,$color=colorArr[(isNaN($nums)?$nums.length:$nums)%$colorNums],$class="layui-badge"),badgeList[$url]=$nums>0?'<small class="'+$class+" layui-bg-"+$color+'">'+$nums+"</small>":""}),$.each(badgeList,function(e,t){var n=top.window.$("#sideMenu a.site-demo-active[menu-url='"+e+"']");n&&top.window.$(".pull-right-container",n).replaceWith(t)})},replaceids:function(e,t){if(t.indexOf("{ids}")>-1){var n=0,i=$(e).data("table");if(i&&$("#"+i).length>0){n=require("table").api.selectedids(i).join(",")}t=t.replace(/\{ids\}/g,n)}return t},addtabs:function(t,n,i){t=e.api.fixurl(t),parent.pearAdmin?parent.pearAdmin.addTab(i,n,t):window.top.pearAdmin&&window.top.pearAdmin.addTab(i,n,t)}},init:function(){Toastr.options.positionClass="index"===Config.controllername?"toast-top-right-index":"toast-top-right",$(document).on("click",".btn-dialog,.dialogit",function(e){var n=this,i=$.extend({},$(n).data()||{}),r=t.api.replaceids(n,$(n).data("url")||$(n).attr("href")),a=$(n).attr("title")||$(n).data("title")||$(n).data("original-title");return void 0!==i.confirm?Layer.confirm(i.confirm,function(e){t.api.open(r,a,i),Layer.close(e)}):window[$(n).data("window")||"self"].Backend.api.open(r,a,i),!1}),$(document).on("click",".btn-addtabs,.addtabsit",function(e){var n=this,i=$.extend({},$(n).data()||{}),r=t.api.replaceids(n,$(n).data("url")||$(n).attr("href")),a=$(n).attr("title")||$(n).data("title")||$(n).data("original-title"),o=$(n).data("menu-id")||Math.floor((new Date).valueOf()*Math.random());return $(this).attr("data-menu-id")||$(this).attr("data-menu-id",o),void 0!==i.confirm?Layer.confirm(i.confirm,function(e){t.api.addtabs(r,a,o),Layer.close(e)}):t.api.addtabs(r,a,o),!1}),$(document).on("click",".btn-ajax,.ajaxit",function(e){var n=this,i=$.extend({},$(n).data()||{});void 0===i.url&&$(n).attr("href")&&(i.url=$(n).attr("href")),i.url=t.api.replaceids(this,i.url);var r="function"==typeof i.success?i.success:null,a="function"==typeof i.error?i.error:null;return delete i.success,delete i.error,!r&&void 0!==i.table&&void 0!==i.refresh&&i.refresh&&(r=function(){layui.table.reload(i.table)}),void 0!==i.confirm?Layer.confirm(i.confirm,function(e){t.api.ajax(i,r,a),Layer.close(e)}):t.api.ajax(i,r,a),!1}),$("body").on("click","[data-image]",function(){var e=$(this).attr("data-image"),t=$(this).attr("src"),n=$(this).attr("alt"),i={title:e,id:Math.random(),data:[{alt:n,pid:Math.random(),src:t,thumb:t}]};return Layer.photos({photos:i,anim:5}),!1});var e=0;$(document).on("mouseenter","[lay-tips]",function(){e=layer.tips($(this).attr("lay-tips"),this,{tips:1,time:0})}).on("mouseleave","[lay-tips]",function(){layer.close(e)}),$(".fixed-footer").length>0&&$(document.body).css("padding-bottom",$(".fixed-footer").outerHeight()),$(".layer-footer").length>0&&self===top&&$(".layer-footer").show()}};return t.api=$.extend(e.api,t.api),window.Backend=t,t.init(),t}),define("backend-init",["backend"],function(e){}),define("table",["jquery","layui"],function(e,t){var n=t.table,r=(t.laydate,t.laytpl),a=t.form,o=t.tabs,l={table_elem:"#currentTable",table_render_id:"currentTable"},s=[],c={config:{disabledbtn:".btn-disabled"},api:{init:function(e){e=e||l,c.init=e},bindevent:function(e){var e=e||c.init.table_render_id,n=t.table.getOptions(e);n.layFilter=n.layFilter||n.id,c.listenCheckboxEvent(n),c.listenToolbarEvent(n),c.listenToolEvent(n),c.listenEditEvent(n,e),c.listenTabShowEvent(n,e),c.listenSwitch(n,e)},multi:function(i,r,a,o){var l=t.table.getOptions(a),s=o?e(o).data():{};r=e.isArray(r)?r:[r],l={url:void 0!==s.url?s.url:"del"==i?l.init.delete_url:l.init.multi_url,data:{action:i,id:r,param:void 0!==s.params?"object"==typeof s.params?e.param(s.params):s.params:""}},Yzn.api.ajax(l,function(t,i){var r=e(o).data("success")||e.noop;if("function"==typeof r&&!1===r.call(o,t,i))return!1;a&&n.reload(a)},function(t,n){var i=e(o).data("error")||e.noop;if("function"==typeof i&&!1===i.call(o,t,n))return!1})},selectedids:function(t,i){var r=n.checkStatus(t),a=r.data,o=[];return e.each(a,function(e,t){o.push(t.id)}),o},selecteddata:function(t,i){var r=n.checkStatus(t),a=r.data,o=[];return e.each(a,function(e,t){o.push(t)}),o},toolSpliceUrl:function(e,t){return t.id=void 0!==t.id?t.id:0,e=null==e||0===e.length?"":e.toString(),e=e.match(/(?=([?&]id=)|(\/id\/)|(\{id}))/i)?e:e+(e.match(/(\?|&)+/)?"&id=":"?id=")+"{id}",e=e.replace(/\{(.*?)\}/gi,function(e){if(e=e.substring(1,e.length-1),-1!==e.indexOf(".")){for(var n=t,i=e.split(/\./),r=0;r<i.length;r++)void 0!==n[i[r]]&&(n=n[i[r]]);return"object"==typeof n?"":n}return t[e]})}},render:function(t){return t.init=t.init||l,t.modifyReload=Yzn.api.parame(t.modifyReload,!1),t.id=t.id||t.init.table_render_id,t.pk=t.pk||"id",t.elem=t.elem||t.init.table_elem,t.cols=t.cols||[],t.layFilter=t.id+"_LayFilter",t.searchFieldsetId="searchFieldset_"+t.id,t.tabsId="tabs_"+t.id,t.url=Yzn.api.fixurl(t.url||t.init.index_url),t.search=Yzn.api.parame(t.search,!0),t.showSearch=Yzn.api.parame(t.showSearch,!0),t.searchFormVisible=Yzn.api.parame(t.searchFormVisible,!1),t.searchFormTpl=Yzn.api.parame(t.searchFormTpl||t.init.searchFormTpl,!1),t.defaultToolbar=t.defaultToolbar||["filter","print","exports"],t.search&&t.showSearch&&t.defaultToolbar.push({title:"æç´¢",layEvent:"TABLE_SEARCH",icon:"layui-icon-search",extend:'data-table-id="'+t.id+'"'}),t.even=Yzn.api.parame(t.even,!0),Yzn.api.checkMobile()&&(t.defaultToolbar=t.search?["filter",{title:"æç´¢",layEvent:"TABLE_SEARCH",icon:"layui-icon-search",extend:'data-table-id="'+t.id+'"'}]:["filter"]),t.searchInput=!!t.search&&Yzn.api.parame(t.searchInput,!0),t.cols=c.formatCols(t.cols,t.init),e(t.elem).attr("lay-filter",t.layFilter),!0===t.search&&!1!==t.searchFormTpl&&(data=t.tpldata||{},r(e("#"+t.searchFormTpl).html()).render(data,function(n){e(t.elem).before(n),c.listenTableSearch(t.id)}),a.render()),!0===t.search&&!1===t.searchFormTpl&&c.renderSearch(t.cols,t.elem,t.id,t.searchFormVisible),t.toolbar=t.toolbar||["refresh","add","delete","export"],t.toolbar=c.renderToolbar(t),t.before=c.wrapEvent(t.before,c.before),t.done=c.wrapEvent(t.done,c.done),n.render(t)},wrapEvent:function(e,t){return e?function(){t.apply(this,arguments),e.apply(this,arguments)}:t},renderToolbar:function(t){var n=t.toolbar,i=t.id,r=t.searchInput,a=t.elem,o=t.init;n=n||[];var l="";return e.each(n,function(t,n){"refresh"===n?l+='<a lay-event="btn-refresh" href="javascript:;" class="layui-btn layui-btn-sm yzn-btn-primary btn-refresh" data-table-refresh="'+i+'"><i class="iconfont icon-loop-left-line"></i> </a>\n':"add"===n?Yzn.api.checkAuth("add",a)&&(l+='<a lay-event="btn-add" href="javascript:;" class="layui-btn layui-btn-normal layui-btn-sm"><i class="iconfont icon-add-fill"></i> æ·»å </a>\n'):"edit"===n?Yzn.api.checkAuth("edit",a)&&(l+='<a lay-event="btn-edit" href="javascript:;" class="layui-btn layui-btn-normal layui-btn-sm layui-btn-disabled btn-disabled" data-table="'+i+'"><i class="iconfont icon-edit-2-line"></i> ç¼è¾</a>\n'):"delete"===n?Yzn.api.checkAuth("delete",a)&&(l+='<a lay-event="btn-delete" href="javascript:;" class="layui-btn layui-btn-sm layui-btn-danger layui-btn-disabled btn-disabled" data-href="'+o.delete_url+'" data-table="'+i+'"><i class="iconfont icon-delete-bin-line"></i> å é¤</a>\n'):"recyclebin"===n?Yzn.api.checkAuth("recyclebin",a)&&(l+='<a class="layui-btn layui-btn-warm layui-btn-sm btn-dialog" href="'+o.recyclebin_url+'" data-title="åæ¶ç«"><i class="iconfont icon-recycle-line"></i> åæ¶ç«</a>\n'):"restore"===n?Yzn.api.checkAuth("restore",a)&&(l+='<a lay-event="btn-multi" class="layui-btn layui-btn-sm confirm layui-btn-disabled btn-disabled" href="javascript:;" data-url="'+o.restore_url+'" data-action="restore" data-table="'+i+'"><i class="iconfont icon-arrow-go-back-line"></i> è¿å</a>\n'):"destroy"===n?Yzn.api.checkAuth("destroy",a)&&(l+='<a lay-event="btn-multi" class="layui-btn layui-btn-sm confirm layui-btn-danger layui-btn-disabled btn-disabled" href="javascript:;" data-url="'+o.destroy_url+'" data-action="destroy" data-table="'+i+'"><i class="iconfont icon-close-fill"></i> éæ¯</a>\n'):"object"==typeof n&&e.each(n,function(e,t){Yzn.api.checkAuth(t.auth,a)&&(l+=c.buildToolbarHtml(t))})}),r&&(l+='<input id="layui-input-search" value="" placeholder="æç´¢" class="layui-input layui-hide-xs" style="display:inline-block;width:auto;float: right;\nmargin:2px 25px 0 0;height:28px;">\n'),"<div>"+l+"</div>"},buildToolbarHtml:function(e){if(e.html=e.html||"",""!==e.html)return e.html;var t,n,i,r,a,o,l;return("function"==typeof e.hidden?e.hidden.call(c,e):void 0!==e.hidden&&e.hidden)?"":(a=e.text?e.text:"",o=e.title?e.title:a,l=e.icon?e.icon:"",n=e.class?e.class:"",i=e.refresh?'data-refresh="'+e.refresh+'"':"",t=e.url?e.url:"",t=t?Yzn.api.fixurl(e.url):"javascript:;",r=void 0!==e.extend?e.extend:"",'<a href="'+t+'" class="'+n+'" '+(i?i+" ":"")+r+' title="'+o+'" data-table="'+c.init.table_render_id+'"><i class="'+l+'"></i>'+(a?" "+a:"")+"</a>\n")},renderSearch:function(t,n,i,r){t=t[0]||{};var o="";e.each(t,function(t,n){if(n.field=n.field||!1,n.fieldAlias=Yzn.api.parame(n.fieldAlias,n.field),n.title=n.title||n.field||"",n.selectList=n.selectList||{},n.search=Yzn.api.parame(n.search,!0),n.searchTip=n.searchTip||"è¯·è¾å¥"+n.title||"",n.searchValue=n.searchValue||"",n.searchOp=n.searchOp||"=",n.timeType=n.timeType||"datetime",n.extend=void 0===n.extend?"":n.extend,n.addClass=void 0===n.addClass?void 0===n.addclass?"layui-input":"layui-input "+n.addclass:"layui-input "+n.addClass,!1!==n.field&&!1!==n.search)switch(s.push(n),n.search){case!0:o+='\t<div class="layui-form-item layui-inline">\n<label class="layui-form-label">'+n.title+'</label>\n<div class="layui-input-inline">\n<input type="hidden" class="operate" name="'+n.fieldAlias+'-operate" data-name="'+n.fieldAlias+'" value="'+n.searchOp+'" readonly>\n<input class="'+n.addClass+'" id="c-'+n.fieldAlias+'" name="'+n.fieldAlias+'" value="'+n.searchValue+'" placeholder="'+n.searchTip+'" '+n.extend+">\n</div>\n</div>";break;case"select":var i="";e.each(n.selectList,function(e,t){var r="";e===n.searchValue&&(r='selected=""'),i+='<option value="'+e+'" '+r+">"+t+"</option>/n"}),o+='\t<div class="layui-form-item layui-inline">\n<label class="layui-form-label">'+n.title+'</label>\n<div class="layui-input-inline">\n<input type="hidden" class="operate" name="'+n.fieldAlias+'-operate" data-name="'+n.fieldAlias+'" value="'+n.searchOp+'" readonly>\n<select class="layui-select" id="c-'+n.fieldAlias+'" name="'+n.fieldAlias+'" '+n.extend+'>\n<option value="">- å¨é¨ -</option> \n'+i+"</select>\n</div>\n</div>";break;case"range":n.searchOp="range",o+='\t<div class="layui-form-item layui-inline">\n<label class="layui-form-label">'+n.title+'</label>\n<div class="layui-input-inline">\n<input type="hidden" class="operate" name="'+n.fieldAlias+'-operate" data-name="'+n.fieldAlias+'" value="'+n.searchOp+'" readonly>\n<input class="datetime '+n.addClass+'" data-date-range="-" id="c-'+n.fieldAlias+'" name="'+n.fieldAlias+'" value="'+n.searchValue+'" placeholder="'+n.searchTip+'" '+n.extend+">\n</div>\n</div>";break;case"time":n.searchOp="=",o+='\t<div class="layui-form-item layui-inline">\n<label class="layui-form-label">'+n.title+'</label>\n<div class="layui-input-inline">\n<input class="datetime '+n.addClass+'" id="c-'+n.fieldAlias+'" name="'+n.fieldAlias+'"  data-search-op="'+n.searchOp+'"  value="'+n.searchValue+'" placeholder="'+n.searchTip+'" '+n.extend+">\n</div>\n</div>";break;case"between":n.searchOp="BETWEEN",o+='\t<div class="layui-form-item layui-inline">\n<input type="hidden" class="operate" name="'+n.fieldAlias+'-operate" data-name="'+n.fieldAlias+'" value="'+n.searchOp+'" readonly>\n<label class="layui-form-label">'+n.title+'</label>\n<div class="layui-input-inline" style="width: 80px;">\n<input type="text" name="'+n.fieldAlias+'" id="'+n.fieldAlias+'-min" placeholder="'+n.searchTip+'" autocomplete="off" class="'+n.addClass+'" '+n.extend+'>\n</div>\n<div class="layui-form-mid">-</div>\n<div class="layui-input-inline" style="width: 80px;">\n<input type="text" name="'+n.fieldAlias+'" id="'+n.fieldAlias+'-min" placeholder="'+n.searchTip+'" autocomplete="off" class="'+n.addClass+'" '+n.extend+">\n</div>\n</div>"}}),""!==o&&(e(n).before('<fieldset style="border:1px solid #ddd;" id="searchFieldset_'+i+'" class="table-search-fieldset '+(r?"":"layui-hide")+'">\n<legend>æ¡ä»¶æç´¢</legend>\n<form class="layui-form layui-form-pane form-search form-commonsearch">\n'+o+'<div class="layui-form-item layui-inline" style="margin-left: 115px">\n<button type="submit" class="layui-btn layui-btn-normal" data-type="tableSearch" data-table="'+i+'" lay-submit lay-filter="'+i+'_filter"> æ ç´¢</button>\n<button type="reset" class="layui-btn layui-btn-primary" data-table-reset="'+i+'"> é ç½® </button>\n </div></form></fieldset>'),c.listenTableSearch(i),a.render())},formatCols:function(e,t){for(i in e){var n=e[i];for(index in n){var r=n[index];void 0===r.init&&(e[i][index].init=t),r.templet===c.formatter.tool&&void 0===r.operat&&(e[i][index].operat=["edit","delete"]),r.templet===c.formatter.switch&&void 0===r.filter&&(e[i][index].filter="switchStatus"),void 0!==r.selectList&&void 0===r.search&&(e[i][index].search="select"),void 0===r.align&&(e[i][index].align="left");var a=["id","sort"];void 0===r.sort&&a.indexOf(r.field)>=0&&(e[i][index].sort=!0),r.templet===c.formatter.image&&void 0===r.imageHeight&&(e[i][index].imageHeight=30),void 0!==r.field&&r.field.split(".").length>1&&void 0===r.templet&&(e[i][index].templet=c.formatter.value)}}return e},listenTableSearch:function(i){var r=this;r.$commonsearch=e(".table-search-fieldset"),require(["form"],function(e){e.api.bindevent(r.$commonsearch)}),a.on("submit("+i+"_filter)",function(a){var o=c.getSearchQuery(r,!0),l=t.table.getOptions(i),s=e(".layui-tabs-header[data-field]",e('div[id="'+l.tabsId+'"]')),u=s.data("field"),d=e("li.layui-this",s).data("value");return a.field&&void 0!==a.field[u]&&a.field[u]!=d&&(e("li",s).removeClass("layui-this"),e("li[data-value='"+a.field[u]+"']",s).addClass("layui-this")),n.reload(i,{page:{curr:1},where:{filter:JSON.stringify(o.filter),op:JSON.stringify(o.op)}}),!1}),e('button[data-table-reset="'+i+'"]').on("click",r.$commonsearch,function(){var r=t.table.getOptions(i);e("[data-field] li",e('div[lay-filter="'+r.layFilter+'"]')).removeClass("layui-this"),e("[data-field] li:first",e('div[lay-filter="'+r.layFilter+'"]')).addClass("layui-this"),setTimeout(function(){n.reload(i)},1)}),e(document).on("click",".searchit",function(){var t=e(this).data("value"),n=e(this).data("field"),i=e("form [name='"+n+"']",r.$commonsearch);i.length>0&&(i.is("select")?(e("option[value='"+t+"']",i).prop("selected",!0),a.render("select")):i.length>1?e("form [name='"+n+"'][value='"+t+"']",r.$commonsearch).prop("checked",!0):i.val(t+""),i.trigger("change"),e("form button[type='submit']",r.$commonsearch).trigger("click"))}),e(document).on("blur","#layui-input-search",function(t){var r=e(this).val();return n.reload(i,{where:{search:r}}),e("#layui-input-search").prop("value",e(this).val()),!1})},getSearchQuery:function(t,n){var i={},r={},a="";return e("form.form-commonsearch .operate",t.$commonsearch).each(function(o){var l=e(this).data("name"),c=e(this).is("select")?e("option:selected",this).val():e(this).val().toUpperCase(),u=e("[name='"+l+"']",t.$commonsearch);if(0==u.length)return!0;var d=s[o],p=d&&"function"==typeof d.process?d.process:null;if(u.length>1)if(/BETWEEN$/.test(c)){var f=e.trim(e("[name='"+l+"']:first",t.$commonsearch).val()),h=e.trim(e("[name='"+l+"']:last",t.$commonsearch).val());f.length||h.length?(p&&(f=p(f,"begin"),h=p(h,"end")),a=f+","+h):a="",e("[name='"+l+"']:first",t.$commonsearch).hasClass("datetimepicker")&&(c="RANGE")}else a=e("[name='"+l+"']:checked",t.$commonsearch).val(),a=p?p(a):a;else a=p?p(u.val()):u.val();if(n&&(""==a||null==a||e.isArray(a)&&0==a.length)&&!c.match(/null/i))return!0;i[l]=c,r[l]=a}),{op:i,filter:r}},getQueryParams:function(t,n,i){return t.filter="Object"==typeof t.filter?t.filter:t.filter?JSON.parse(t.filter):{},t.op="Object"==typeof t.op?t.op:t.op?JSON.parse(t.op):{},t.filter=e.extend({},t.filter,n.filter),t.op=e.extend({},t.op,n.op),i&&e.each(t.filter,function(n,i){(""==i||null==i||e.isArray(i)&&0==i.length)&&!t.op[n].match(/null/i)&&(delete t.filter[n],delete t.op[n])}),t.filter=JSON.stringify(t.filter),t.op=JSON.stringify(t.op),t},listenCheckboxEvent:function(t){n.on("checkbox("+t.layFilter+")",function(i){var r=n.checkStatus(i.config.id);return e(c.config.disabledbtn+'[data-table="'+t.id+'"]').toggleClass("layui-btn-disabled",!r.data.length),!1})},listenToolEvent:function(e){n.on("tool("+e.layFilter+")",function(t){var n=t.event;return c.toolEvents.hasOwnProperty(n)&&c.toolEvents[n]&&c.toolEvents[n].call(this,t,e),!1})},listenToolbarEvent:function(e){n.on("toolbar("+e.layFilter+")",function(t){var n=t.event;return c.toolbarEvents.hasOwnProperty(n)&&c.toolbarEvents[n]&&c.toolbarEvents[n].call(this,t,e),!1})},listenEditEvent:function(e,t){n.on("edit("+e.layFilter+")",function(t){return c.editEvents.edit.call(this,t,e),!1})},listenTabShowEvent:function(t,i){o.on("afterChange("+t.tabsId+")",function(r){var o=e(this).closest("[data-field]").data("field"),l=e(this).data("value"),s=e("[name='"+o+"']",e("#"+t.searchFieldsetId));"SELECT"===s.prop("tagName")?(e("option[value='"+l+"']",s).prop("selected",!0),a.render("select")):s.val(l),n.reload(i)})},listenSwitch:function(n,i){var r=n.modifyReload||!1;t.form.on("switch(switchStatus)",function(a){var o=e(this),l=e(this).attr("data-url")||n.init.multi_url,s=e(this).attr("data-field")||"status",c={id:a.value,param:s+"="+(a.elem.checked?1:0)};Yzn.api.ajax({url:l,data:c},function(e,n){r&&t.table.reload(i)},function(e,n){o.trigger("click"),t.form.render("checkbox")})})},buildOperatHtml:function(e,t){var n,i,r,a,o,l,s,u,d;return("function"==typeof t.hidden?t.hidden.call(c,e,t):void 0!==t.hidden&&t.hidden)?"":(i=t.url?t.url:"",i="function"==typeof i?i.call(c,e,t):i?Yzn.api.fixurl(c.api.toolSpliceUrl(i,e)):"javascript:;",r=t.class?t.class:"",a=t.icon?t.icon:"",o="function"==typeof t.text?t.text.call(c,e,t):t.text?t.text:"",l="function"==typeof t.title?t.title.call(c,e,t):t.title?t.title:o,s=t.refresh?'data-refresh="'+t.refresh+'"':"",u="function"==typeof t.confirm?t.confirm.call(c,e,t):void 0!==t.confirm&&t.confirm,u=u?'data-confirm="'+u+'"':"",d="function"==typeof t.extend?t.extend.call(c,e,t):void 0!==t.extend?t.extend:"",n="function"==typeof t.disable?t.disable.call(c,e,t):void 0!==t.disable&&t.disable,n&&(r+=" disabled"),'<a href="'+i+'" class="'+r+'" '+(u?u+" ":"")+(s?s+" ":"")+d+' title="'+l+'" data-table="'+c.init.table_render_id+'"><i class="'+a+'"></i>'+(o?" "+o:"")+"</a>")},getItemField:function(e,n){var i=n.split(".").reduce(function(e,t){return null===e||void 0===e?"":e[t]},e);return"string"==typeof i&&e.LAY_COL&&!1!==e.LAY_COL.escape?t.util.escape(i):i},done:function(t,n,i){const r=e('[lay-event="btn-import"]');r.length>0&&r.click()},before:function(t){this.$commonsearch=e(".table-search-fieldset");var n=c.getQueryParams({},c.getSearchQuery(this,!0));t.where.filter=n.filter,t.where.op=n.op},toolbarEvents:{"btn-refresh":function(t,i){tableId=i.init.table_render_id||e(this).attr("data-table-refresh"),n.reload(tableId)},"btn-add":function(t,n){var i=n.init.add_url;Yzn.api.open(i,e(this).data("original-title")||e(this).attr("title")||"æ·»å ",e(this).data()||{})},"btn-edit":function(t,i){tableId=i.init.table_render_id;var r=this,a=c.api.selectedids(tableId);if(a.length<=0)return Toastr.error("è¯·å¾ééè¦æä½çæ°æ®"),!1;if(a.length>10)return Toastr.error("æå¤å¾é10æ¡æ°æ®"),!1;var o=e(r).data("title")||e(r).attr("title")||"ç¼è¾",l=e(r).data()||{};delete l.title,e.each(c.api.selecteddata(tableId),function(t,r){var a=i.init.edit_url;r=e.extend({},r||{},{id:r[i.pk]}),a=c.api.toolSpliceUrl(a,r),Yzn.api.open(a,"function"==typeof o?o.call(n,r):o,l)})},"btn-delete":function(e,t){tableId=t.init.table_render_id;var n=this,i=c.api.selectedids(tableId);if(i.length<=0)return Toastr.error("è¯·å¾ééè¦æä½çæ°æ®"),!1;Layer.confirm("å é¤ä¹åæ æ³æ¢å¤ï¼æ¨ç¡®å®è¦å é¤åï¼",{icon:3,title:"æç¤ºä¿¡æ¯",offset:0,shadeClose:!0,btn:["ç¡®è®¤","åæ¶"]},function(e){c.api.multi("del",i,tableId,n),Layer.close(e)})},"btn-multi":function(t,n){tableId=n.init.table_render_id;var i=c.api.selectedids(tableId);if(i.length<=0)return Toastr.error("è¯·å¾ééè¦æä½çæ°æ®"),!1;c.api.multi(e(this).data("action"),i,tableId,this)},"btn-import":function(t,i){var r=this;require(["upload"],function(t){var a=i.init.table_render_id||e(this).attr("data-table-refresh");t.api.upload(e(r),function(e,t){Yzn.api.ajax({url:i.init.import_url,data:{file:e.url}},function(e,t){n.reload(a)})})})},TABLE_SEARCH:function(t,n){var i=e("#"+n.searchFieldsetId);i.hasClass("layui-hide")?i.removeClass("layui-hide"):i.addClass("layui-hide")}},toolEvents:{"btn-editone":function(t,n){var i=t.data,r=i[n.pk],a=e.extend({},i||{},{id:r}),o=n.init.edit_url;Yzn.api.open(c.api.toolSpliceUrl(o,a),e(this).data("original-title")||e(this).attr("title")||"ç¼è¾",e(this).data()||{})},"btn-delone":function(t,n){var i=n.init.table_render_id,r=t.data,a=e(this).offset().top-e(window).scrollTop(),o=e(this).offset().left-e(window).scrollLeft()-260;a+154>e(window).height()&&(a-=154),e(window).width()<480&&(a=o=void 0),Layer.confirm("å é¤ä¹åæ æ³æ¢å¤ï¼æ¨ç¡®å®è¦å é¤åï¼",{icon:3,title:"æç¤ºä¿¡æ¯",offset:[a,o],shadeClose:!0,btn:["ç¡®è®¤","åæ¶"]},function(e){c.api.multi("del",r[n.pk],i,this),Layer.close(e)})}},editEvents:{edit:function(e,n){var i=n.init.table_render_id,r=n.init.multi_url,a=n.modifyReload||!1,o={id:e.data.id,param:e.field+"="+e.value};Yzn.api.ajax({url:r,data:o},function(e,n){a&&t.table.reload(i)})}},formatter:{tool:function(t){var n=this;n.operat=n.operat||["edit","delete"];var i=n.init.table_elem||l.table_elem,r="";return e.each(n.operat,function(a,o){if("string"==typeof o)switch(o){case"edit":var l={class:"layui-btn layui-btn-success layui-btn-xs",field:"id",icon:"iconfont icon-edit-2-line",auth:"edit",text:"",title:"ç¼è¾ä¿¡æ¯",extend:"lay-event='btn-editone'"};Yzn.api.checkAuth(l.auth,i)&&(r+=c.buildOperatHtml(t,l));break;case"restore":var l={class:"layui-btn layui-btn-xs btn-ajax",field:"id",icon:"iconfont icon-arrow-go-back-line",auth:"restore",text:"è¿å",title:"è¿å",url:n.init.restore_url,refresh:!0,extend:""};Yzn.api.checkAuth(l.auth,i)&&(r+=c.buildOperatHtml(t,l));break;case"destroy":var l={class:"layui-btn layui-btn-danger layui-btn-xs btn-ajax",field:"id",icon:"iconfont icon-close-fill",auth:"destroy",text:"éæ¯",title:"éæ¯",url:n.init.destroy_url,refresh:!0,extend:""};Yzn.api.checkAuth(l.auth,i)&&(r+=c.buildOperatHtml(t,l));break;case"delete":var l={class:"layui-btn layui-btn-danger layui-btn-xs",field:"id",icon:"iconfont icon-delete-bin-line",auth:"delete",text:"",title:"å é¤",extend:"lay-event='btn-delone'"};Yzn.api.checkAuth(l.auth,i)&&(r+=c.buildOperatHtml(t,l))}else"object"==typeof o&&e.each(o,function(e,n){Yzn.api.checkAuth(n.auth,i)&&(r+=c.buildOperatHtml(t,n))})}),r},status:function(t){var n={normal:"success",hidden:"gray",deleted:"danger",locked:"info"};return void 0!==this.custom&&(n=e.extend(n,this.custom)),this.custom=n,this.icon="iconfont icon-circle-fill",c.formatter.normal.call(this,t)},normal:function(t){var n=this,i=["danger","success","primary","warning","info","gray","red","yellow","aqua","blue","navy","teal","olive","lime","fuchsia","purple","maroon"],r={};void 0!==n.custom&&(r=e.extend(r,n.custom));var a=n.field;try{var o=c.getItemField(t,a);o=null==o||0===o.length?"":o.toString()}catch(e){var o=void 0}o=null==o||0===o.length?"":o.toString();var l="object"==typeof n.selectList?Object.keys(n.selectList):[],s=l.indexOf(o),u=o&&void 0!==r[o]?r[o]:null,d=s>-1?n.selectList[o]:null,p=void 0!==n.icon?n.icon:null;u||(u=s>-1&&void 0!==i[s]?i[s]:"primary"),d||(d=o.charAt(0).toUpperCase()+o.slice(1));var f='<span class="text-'+u+'">'+(p?'<i class="'+p+'"></i>':"")+d+"</span>";return 0!=n.search&&(f='<a href="javascript:;" class="searchit" lay-tips="ç¹å»æç´¢ '+d+'" data-field="'+this.field+'" data-value="'+o+'">'+f+"</a>"),f},flag:function(t){var n=this,i=n.field;try{var r=c.getItemField(t,i);r=null==r||0===r.length?"":r.toString()}catch(e){var r=void 0}var a={0:"red",1:"green",2:"blue",3:"cyan",4:"black",5:"orange"};if(void 0!==n.custom&&(a=e.extend(a,n.custom)),"object"==typeof n.selectList&&void 0===n.custom){var o=0,l=Object.values(a);e.each(n.selectList,function(e,t){void 0===a[e]&&(a[e]=l[o],o=void 0===l[o+1]?0:o+1)})}var s,u,d,p=[],f=""!=r?r.split(","):[];return e.each(f,function(e,t){if(""==(t=null==t||0===t.length?"":t.toString()))return!0;s=t&&void 0!==a[t]?a[t]:"green",u=void 0!==n.selectList&&void 0!==n.selectList[t]?n.selectList[t]:t.charAt(0).toUpperCase()+t.slice(1),d='<span class="layui-badge layui-bg-'+s+'">'+u+"</span>",0!=n.search?p.push('<a href="javascript:;" class="searchit" lay-tips="ç¹å»æç´¢ '+u+'" data-field="'+i+'" data-value="'+t+'">'+d+"</a>"):p.push(d)}),p.join(" ")},label:function(e){return c.formatter.flag.call(this,e)},switch:function(e){var t=this,n=t.field;t.filter=t.filter||t.field||null,t.checked=t.checked||1,t.tips=t.tips||"å¼|å³";try{var i=c.getItemField(e,n)}catch(e){var i=void 0}var a=i===t.checked?"checked":"";return r('<input type="checkbox" name="'+t.field+'" value="'+e.id+'" lay-skin="switch" data-field="'+t.field+'" lay-text="'+t.tips+'" lay-filter="'+t.filter+'" '+a+" >").render(e)},image:function(e){var t=this;t.imageWidth=t.imageWidth||30,t.imageHeight=t.imageHeight||30,t.imageSplit=t.imageSplit||",",t.imageJoin=t.imageJoin||" ",t.title=t.title||t.field;var n=t.field,i=e[t.title];try{var r=c.getItemField(e,n)}catch(e){var r=void 0}if(r){var a=[];return a.push('<img style="width: '+t.imageWidth+"px; height: "+t.imageHeight+'px;" src="'+r+'" data-image="'+i+'">'),a.join(t.imageJoin)}return""},images:function(e){var t=this;t.imageWidth=t.imageWidth||30,t.imageHeight=t.imageHeight||30,t.imageSplit=t.imageSplit||",",t.imageJoin=t.imageJoin||" ",t.title=t.title||t.field;var n=t.field,i=e[t.title];try{var r=c.getItemField(e,n)}catch(e){var r=void 0}if(r){var a=r.split(t.imageSplit),o=[];return a.forEach(function(e,n){o.push('<img style="width: '+t.imageWidth+"px; height: "+t.imageHeight+'px;" src="'+e+'" data-image="'+i+'">')}),o.join(t.imageJoin)}return""},file:function(e){var t=this;t.imageWidth=t.imageWidth||80,t.imageHeight=t.imageHeight||30,t.imageSplit=t.imageSplit||",",t.imageJoin=t.imageJoin||" ",t.title=t.title||t.field;var n=t.field,i=e[t.title];try{
var r=c.getItemField(e,n)}catch(e){var r=void 0}if(r){var a=r.split(t.imageSplit),o=[];return a.forEach(function(e,n){suffix=/[\.]?([a-zA-Z0-9]+)$/.exec(e),suffix=suffix?suffix[1]:"file",url=Yzn.api.fixurl("ajax/icon?suffix="+suffix),o.push('<img style="max-width: '+t.imageWidth+"px; max-height: "+t.imageHeight+'px;" src="'+url+'" data-image="'+i+'">')}),o.join(t.imageJoin)}return""},files:function(e){return c.formatter.image.file(this,e)},url:function(e){var t=this.field;try{var n=c.getItemField(e,t)}catch(e){var n=void 0}return'<a class="layui-btn layui-btn-primary layui-btn-xs" href="'+n+'" target="_blank"><i class="iconfont icon-lianjie"></i></a></a>'},price:function(e){var t=this.field;try{var n=c.getItemField(e,t)}catch(e){var n=void 0}return"<span>ï¿¥"+n+"</span>"},icon:function(e){var t=this.field;try{var n=c.getItemField(e,t)}catch(e){var n=void 0}return'<i class="'+n+'"></i>'},text:function(e){var t=this.field;try{var n=c.getItemField(e,t)}catch(e){var n=void 0}return'<span class="line-limit-length">'+n+"</span>"},value:function(e){var t=this.field;try{var n=c.getItemField(e,t)}catch(e){var n=void 0}return"<span>"+n+"</span>"},datetime:function(e){var n=this,i=n.field;try{var r=c.getItemField(e,i)}catch(e){var r=void 0}var a=void 0===n.datetimeFormat?"yyyy-MM-dd HH:mm:ss":n.datetimeFormat;return r&&isNaN(Date.parse(r))?t.util.toDateString(1e3*r,a):r&&!isNaN(Date.parse(r))?t.util.toDateString(Date.parse(r),a):"-"}}};return c}),function(e){"function"==typeof define&&define.amd?define("dropzone",["jquery"],e):e(jQuery)}(function(e){function t(e){"@babel/helpers - typeof";return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?r(e):n}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){return void 0!==e&&null!==e?t(e):void 0}function d(e,t,n){return void 0!==e&&null!==e&&"function"==typeof e[t]?n(e,t):void 0}var p={exports:{}},f=function(){function e(){l(this,e)}return c(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var a=!0,o=!1,l=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){s.value.apply(this,i)}}catch(e){o=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw l}}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var i=0;i<n.length;i++){if(n[i]===t){n.splice(i,1);break}}return this}}]),e}(),h=function(e){function t(e,a){var o;l(this,t),o=n(this,i(t).call(this));var s,c;if(o.element=e,o.version=t.version,o.defaultOptions.previewTemplate=o.defaultOptions.previewTemplate.replace(/\n*/g,""),o.clickableElements=[],o.listeners=[],o.files=[],"string"==typeof o.element&&(o.element=document.querySelector(o.element)),!o.element||null==o.element.nodeType)throw new Error("Invalid dropzone element.");if(o.element.dropzone)throw new Error("Dropzone already attached.");t.instances.push(r(o)),o.element.dropzone=r(o);var u=null!=(c=t.optionsForElement(o.element))?c:{};if(o.options=t.extend({},o.defaultOptions,u,null!=a?a:{}),o.options.forceFallback||!t.isBrowserSupported())return n(o,o.options.fallback.call(r(o)));if(null==o.options.url&&(o.options.url=o.element.getAttribute("action")),!o.options.url)throw new Error("No URL provided.");if(o.options.acceptedFiles&&o.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(o.options.uploadMultiple&&o.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return o.options.acceptedMimeTypes&&(o.options.acceptedFiles=o.options.acceptedMimeTypes,delete o.options.acceptedMimeTypes),null!=o.options.renameFilename&&(o.options.renameFile=function(e){return o.options.renameFilename.call(r(o),e.name,e)}),o.options.method="function"!=typeof o.options.method?o.options.method.toUpperCase():o.options.method,(s=o.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),!1!==o.options.previewsContainer&&(o.options.previewsContainer?o.previewsContainer=t.getElement(o.options.previewsContainer,"previewsContainer"):o.previewsContainer=o.element),o.options.clickable&&(!0===o.options.clickable?o.clickableElements=[o.element]:o.clickableElements=t.getElements(o.options.clickable,"clickable")),o.init(),o}return a(t,e),c(t,null,[{key:"initClass",value:function(){this.prototype.Emitter=f,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunkSuccess:function(e,t,n){},chunksUploaded:function(e,t){t()},fallback:function(){var e;this.element.className="".concat(this.element.className," dz-browser-not-supported");var n=!0,i=!1,r=void 0;try{for(var a,o=this.element.getElementsByTagName("div")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;if(/(^| )dz-message($| )/.test(l.className)){e=l,l.className="dz-message";break}}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}e||(e=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var s=e.getElementsByTagName("span")[0];return s&&(null!=s.textContent?s.textContent=this.options.dictFallbackMessage:null!=s.innerText&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,i){var r={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},a=e.width/e.height;null==t&&null==n?(t=r.srcWidth,n=r.srcHeight):null==t?t=n*a:null==n&&(n=t/a),t=Math.min(t,r.srcWidth),n=Math.min(n,r.srcHeight);var o=t/n;if(r.srcWidth>t||r.srcHeight>n)if("crop"===i)a>o?(r.srcHeight=e.height,r.srcWidth=r.srcHeight*o):(r.srcWidth=e.width,r.srcHeight=r.srcWidth/o);else{if("contain"!==i)throw new Error("Unknown resizeMethod '".concat(i,"'"));a>o?n=t/a:t=n*a}return r.srcX=(e.width-r.srcWidth)/2,r.srcY=(e.height-r.srcHeight)/2,r.trgWidth=t,r.trgHeight=n,r},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var n=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);var i=!0,r=!1,a=void 0;try{for(var o,l=e.previewElement.querySelectorAll("[data-dz-name]")[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s=o.value;s.textContent=e.name}}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}var c=!0,u=!1,d=void 0;try{for(var p,f=e.previewElement.querySelectorAll("[data-dz-size]")[Symbol.iterator]();!(c=(p=f.next()).done);c=!0)s=p.value,s.innerHTML=this.filesize(e.size)}catch(e){u=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),e.previewElement.appendChild(e._removeLink));var h=function(i){return i.preventDefault(),i.stopPropagation(),e.status===t.UPLOADING?t.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(e)}):n.options.dictRemoveFileConfirmation?t.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(e)}):n.removeFile(e)},m=!0,v=!1,g=void 0;try{for(var y,b=e.previewElement.querySelectorAll("[data-dz-remove]")[Symbol.iterator]();!(m=(y=b.next()).done);m=!0){y.value.addEventListener("click",h)}}catch(e){v=!0,g=e}finally{try{m||null==b.return||b.return()}finally{if(v)throw g}}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n=!0,i=!1,r=void 0;try{for(var a,o=e.previewElement.querySelectorAll("[data-dz-thumbnail]")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;l.alt=e.name,l.src=t}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);var n=!0,i=!1,r=void 0;try{for(var a,o=e.previewElement.querySelectorAll("[data-dz-errormessage]")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){a.value.textContent=t}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,n){if(e.previewElement){var i=!0,r=!1,a=void 0;try{for(var o,l=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s=o.value;"PROGRESS"===s.nodeName?s.value=t:s.style.width="".concat(t,"%")}}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];for(var l in o){var s=o[l];e[l]=s}}return e}}]),c(t,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(e){return e})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===t.UPLOADING||e.status===t.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var e=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length){!function n(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",t.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t=e.hiddenFileInput.files;if(t.length){var i=!0,r=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s=o.value;e.addFile(s)}}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}}return e.emit("addedfiles",t),n()})}()}this.URL=null!==window.URL?window.URL:window.webkitURL;var n=!0,i=!1,r=void 0;try{for(var a,o=this.events[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;this.on(l,this.options[l])}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}this.on("uploadprogress",function(){return e.updateTotalUploadProgress()}),this.on("removedfile",function(){return e.updateTotalUploadProgress()}),this.on("canceled",function(t){return e.emit("complete",t)}),this.on("complete",function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)});var s=function(e){return e.dataTransfer.types&&e.dataTransfer.types.some(function(e){return"Files"==e})},c=function(e){if(s(e))return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return c(t),e.emit("dragenter",t)},dragover:function(t){var n;try{n=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",c(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return c(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach(function(n){return e.listeners.push({element:n,events:{click:function(i){return(n!==e.element||i.target===e.element||t.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e,t=0,n=0;if(this.getActiveFiles().length){var i=!0,r=!1,a=void 0;try{for(var o,l=this.getActiveFiles()[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s=o.value;t+=s.upload.bytesSent,n+=s.upload.total}}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,n;if(e=this.getExistingFallback())return e;var i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+="<p>".concat(this.options.dictFallbackText,"</p>")),i+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var r=t.createElement(i);return"FORM"!==this.element.tagName?(n=t.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>')),n.appendChild(r)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:r}},{key:"getExistingFallback",value:function(){for(var e=0,t=["div","form"];e<t.length;e++){var n,i=t[e];if(n=function(e){var t=!0,n=!1,i=void 0;try{for(var r,a=e[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value;if(/(^| )fallback($| )/.test(o.className))return o}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}}(this.element.getElementsByTagName(i)))return n}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.addEventListener(n,i,!1))}return t}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.removeEventListener(n,i,!1))}return t}()})}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(t){return e.cancelUpload(t)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var i=["tb","gb","mb","kb","b"],r=0;r<i.length;r++){var a=i[r];if(e>=Math.pow(this.options.filesizeBase,4-r)/10){t=e/Math.pow(this.options.filesizeBase,4-r),n=a;break}}t=Math.round(10*t)/10}return"<strong>".concat(t,"</strong> ").concat(this.options.dictFileSizeUnits[n])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(t.length){var i=e.dataTransfer.items;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)}this.emit("addedfiles",t)}}},{key:"paste",value:function(e){if(null!=u(null!=e?e.clipboardData:void 0,function(e){return e.items})){this.emit("paste",e);var t=e.clipboardData.items;return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,a=e[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value;this.addFile(o)}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var n=[],i=!0,r=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s,c=o.value;null!=c.webkitGetAsEntry&&(s=c.webkitGetAsEntry())?s.isFile?n.push(t.addFile(c.getAsFile())):s.isDirectory?n.push(t._addFilesFromDirectory(s,s.name)):n.push(void 0):null!=c.getAsFile&&(null==c.kind||"file"===c.kind)?n.push(t.addFile(c.getAsFile())):n.push(void 0)}}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}return n}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,i=e.createReader(),r=function(e){return d(console,"log",function(t){return t.log(e)})};return function e(){return i.readEntries(function(i){if(i.length>0){var r=!0,a=!1,o=void 0;try{for(var l,s=i[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value;c.isFile?c.file(function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(t,"/").concat(e.name),n.addFile(e)}):c.isDirectory&&n._addFilesFromDirectory(c,"".concat(t,"/").concat(c.name))}}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}e()}return null},r)}()}},{key:"accept",value:function(e,n){this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,n):n(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var n=this;e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){t?(e.accepted=!1,n._errorProcessing([e],t)):(e.accepted=!0,n.options.autoQueue&&n.enqueueFile(e)),n._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,a=e[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value;this.enqueueFile(o)}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}return null}},{key:"enqueueFile",value:function(e){var n=this;if(e.status!==t.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return n.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){if(e.status===t.UPLOADING&&this.cancelUpload(e),this.files=m(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var n=!0,i=!1,r=void 0;try{for(var a,o=this.files.slice()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;(l.status!==t.UPLOADING||e)&&this.removeFile(l)}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return null}},{key:"resizeImage",value:function(e,n,i,r,a){var o=this;return this.createThumbnail(e,n,i,r,!0,function(n,i){if(null==i)return a(e);var r=o.options.resizeMimeType;null==r&&(r=e.type);var l=i.toDataURL(r,o.options.resizeQuality);return"image/jpeg"!==r&&"image/jpg"!==r||(l=b.restore(e.dataURL,l)),a(t.dataURItoBlob(l))})}},{key:"createThumbnail",value:function(e,t,n,i,r,a){var o=this,l=new FileReader;l.onload=function(){if(e.dataURL=l.result,"image/svg+xml"===e.type)return void(null!=a&&a(l.result));o.createThumbnailFromUrl(e,t,n,i,r,a)},l.readAsDataURL(e)}},{key:"displayExistingFile",value:function(e,t,n,i){var r=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",e),this.emit("complete",e),a){var o=function(t){r.emit("thumbnail",e,t),n&&n()};e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,o,i)}else this.emit("thumbnail",e,t),n&&n()}},{key:"createThumbnailFromUrl",value:function(e,t,n,i,r,a,o){var l=this,s=document.createElement("img");return o&&(s.crossOrigin=o),s.onload=function(){var o=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&r&&(o=function(e){return EXIF.getData(s,function(){return e(EXIF.getTag(this,"Orientation"))})}),o(function(r){e.width=s.width,e.height=s.height;var o=l.options.resize.call(l,e,t,n,i),c=document.createElement("canvas"),u=c.getContext("2d");switch(c.width=o.trgWidth,c.height=o.trgHeight,r>4&&(c.width=o.trgHeight,c.height=o.trgWidth),r){case 2:u.translate(c.width,0),u.scale(-1,1);break;case 3:u.translate(c.width,c.height),u.rotate(Math.PI);break;case 4:u.translate(0,c.height),u.scale(1,-1);break;case 5:u.rotate(.5*Math.PI),u.scale(1,-1);break;case 6:u.rotate(.5*Math.PI),u.translate(0,-c.width);break;case 7:u.rotate(.5*Math.PI),u.translate(c.height,-c.width),u.scale(-1,1);break;case 8:u.rotate(-.5*Math.PI),u.translate(-c.height,0)}y(u,s,null!=o.srcX?o.srcX:0,null!=o.srcY?o.srcY:0,o.srcWidth,o.srcHeight,null!=o.trgX?o.trgX:0,null!=o.trgY?o.trgY:0,o.trgWidth,o.trgHeight);var d=c.toDataURL("image/png");if(null!=a)return a(d,c)})},null!=a&&(s.onerror=a),s.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-t));for(;n<e;){if(!i.length)return;this.processFile(i.shift()),n++}}}}},{
key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var n=!0,i=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;l.processing=!0,l.status=t.UPLOADING,this.emit("processing",l)}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter(function(t){return t.xhr===e}).map(function(e){return e})}},{key:"cancelUpload",value:function(e){if(e.status===t.UPLOADING){var n=this._getFilesWithXhr(e.xhr),i=!0,r=!1,a=void 0;try{for(var o,l=n[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){o.value.status=t.CANCELED}}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}void 0!==e.xhr&&e.xhr.abort();var s=!0,c=!1,u=void 0;try{for(var d,p=n[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var f=d.value;this.emit("canceled",f)}}catch(e){c=!0,u=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else e.status!==t.ADDED&&e.status!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var n=this;this._transformFiles(e,function(i){if(n.options.chunking){var r=i[0];e[0].upload.chunked=n.options.chunking&&(n.options.forceChunking||r.size>n.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(r.size/n.options.chunkSize)}if(e[0].upload.chunked){var a=e[0],o=i[0],l=0;a.upload.chunks=[];var s=function(){for(var i=0;void 0!==a.upload.chunks[i];)i++;if(!(i>=a.upload.totalChunkCount)){l++;var r=i*n.options.chunkSize,s=Math.min(r+n.options.chunkSize,a.size),c={name:n._getParamName(0),data:o.webkitSlice?o.webkitSlice(r,s):o.slice(r,s),filename:a.upload.filename,chunkIndex:i};a.upload.chunks[i]={file:a,index:i,dataBlock:c,status:t.UPLOADING,progress:0,retries:0},n._uploadData(e,[c])}};if(a.upload.finishedChunkUpload=function(i,r){var o=!0;i.status=t.SUCCESS,n.options.chunkSuccess.call(n,i,a,r),i.dataBlock=null,i.xhr=null;for(var l=0;l<a.upload.totalChunkCount;l++){if(void 0===a.upload.chunks[l])return s();a.upload.chunks[l].status!==t.SUCCESS&&(o=!1)}o&&n.options.chunksUploaded.call(n,a,function(t){n._finished(e,t||"",null)})},n.options.parallelChunkUploads)for(var c=0;c<a.upload.totalChunkCount;c++)s();else s()}else{for(var u=[],d=0;d<e.length;d++)u[d]={name:n._getParamName(d),data:i[d],filename:e[d].upload.filename};n._uploadData(e,u)}})}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,n){var i=this,r=new XMLHttpRequest,a=!0,o=!1,l=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){s.value.xhr=r}}catch(e){o=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw l}}e[0].upload.chunked&&(e[0].upload.chunks[n[0].chunkIndex].xhr=r);var u=this.resolveOption(this.options.method,e),d=this.resolveOption(this.options.url,e);r.open(u,d,!0),r.timeout=this.resolveOption(this.options.timeout,e),r.withCredentials=!!this.options.withCredentials,r.onload=function(t){i._finishedUploading(e,r,t)},r.ontimeout=function(){i._handleUploadError(e,r,"Request timedout after ".concat(i.options.timeout," seconds"))},r.onerror=function(){i._handleUploadError(e,r)},(null!=r.upload?r.upload:r).onprogress=function(t){return i._updateFilesUploadProgress(e,r,t)};var p={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&t.extend(p,this.options.headers);for(var f in p){var h=p[f];h&&r.setRequestHeader(f,h)}var m=new FormData;if(this.options.params){var v=this.options.params;"function"==typeof v&&(v=v.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null));for(var g in v){var y=v[g];m.append(g,y)}}var b=!0,x=!1,w=void 0;try{for(var k,_=e[Symbol.iterator]();!(b=(k=_.next()).done);b=!0){var C=k.value;this.emit("sending",C,r,m)}}catch(e){x=!0,w=e}finally{try{b||null==_.return||_.return()}finally{if(x)throw w}}this.options.uploadMultiple&&this.emit("sendingmultiple",e,r,m),this._addFormElementData(m);for(var S=0;S<n.length;S++){var T=n[S];m.append(T.name,T.data,T.filename)}this.submitRequest(r,m,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,i=[],r=0,a=0;a<e.length;a++)!function(a){n.options.transformFile.call(n,e[a],function(n){i[a]=n,++r===e.length&&t(i)})}(a)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t=!0,n=!1,i=void 0;try{for(var r,a=this.element.querySelectorAll("input, textarea, select, button")[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value,l=o.getAttribute("name"),s=o.getAttribute("type");if(s&&(s=s.toLowerCase()),void 0!==l&&null!==l)if("SELECT"===o.tagName&&o.hasAttribute("multiple")){var c=!0,u=!1,d=void 0;try{for(var p,f=o.options[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=p.value;h.selected&&e.append(l,h.value)}}catch(e){u=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}}else(!s||"checkbox"!==s&&"radio"!==s||o.checked)&&e.append(l,o.value)}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var i;if(void 0!==n){if(i=100*n.loaded/n.total,e[0].upload.chunked){var r=e[0],a=this._getChunk(r,t);a.progress=i,a.total=n.total,a.bytesSent=n.loaded;r.upload.progress=0,r.upload.total=0,r.upload.bytesSent=0;for(var o=0;o<r.upload.totalChunkCount;o++)void 0!==r.upload.chunks[o]&&void 0!==r.upload.chunks[o].progress&&(r.upload.progress+=r.upload.chunks[o].progress,r.upload.total+=r.upload.chunks[o].total,r.upload.bytesSent+=r.upload.chunks[o].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount}else{var l=!0,s=!1,c=void 0;try{for(var u,d=e[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value;p.upload.progress=i,p.upload.total=n.total,p.upload.bytesSent=n.loaded}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}}var f=!0,h=!1,m=void 0;try{for(var v,g=e[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var y=v.value;this.emit("uploadprogress",y,y.upload.progress,y.upload.bytesSent)}}catch(e){h=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(h)throw m}}}else{var b=!0;i=100;var x=!0,w=!1,k=void 0;try{for(var _,C=e[Symbol.iterator]();!(x=(_=C.next()).done);x=!0){var S=_.value;100===S.upload.progress&&S.upload.bytesSent===S.upload.total||(b=!1),S.upload.progress=i,S.upload.bytesSent=S.upload.total}}catch(e){w=!0,k=e}finally{try{x||null==C.return||C.return()}finally{if(w)throw k}}if(b)return;var T=!0,E=!1,F=void 0;try{for(var A,L=e[Symbol.iterator]();!(T=(A=L.next()).done);T=!0){var D=A.value;this.emit("uploadprogress",D,i,D.upload.bytesSent)}}catch(e){E=!0,F=e}finally{try{T||null==L.return||L.return()}finally{if(E)throw F}}}}},{key:"_finishedUploading",value:function(e,n,i){var r;if(e[0].status!==t.CANCELED&&4===n.readyState){if("arraybuffer"!==n.responseType&&"blob"!==n.responseType&&(r=n.responseText,n.getResponseHeader("content-type")&&~n.getResponseHeader("content-type").indexOf("application/json")))try{r=JSON.parse(r)}catch(e){i=e,r="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=n.status&&n.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],n),r):this._finished(e,r,i):this._handleUploadError(e,n,r)}}},{key:"_handleUploadError",value:function(e,n,i){if(e[0].status!==t.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var r=this._getChunk(e[0],n);if(r.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[r.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,i||this.options.dictResponseError.replace("{{statusCode}}",n.status),n)}}},{key:"submitRequest",value:function(e,t,n){e.send(t)}},{key:"_finished",value:function(e,n,i){var r=!0,a=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value;c.status=t.SUCCESS,this.emit("success",c,n,i),this.emit("complete",c)}}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,n,i){var r=!0,a=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value;c.status=t.ERROR,this.emit("error",c,n,i),this.emit("complete",c)}}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),t}(f);h.initClass(),h.version="5.7.0",h.options={},h.optionsForElement=function(e){return e.getAttribute("id")?h.options[v(e.getAttribute("id"))]:void 0},h.instances=[],h.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},h.autoDiscover=!0,h.discover=function(){var e;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){var n=[],i=!0,r=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s=o.value;/(^| )dropzone($| )/.test(s.className)?n.push(e.push(s)):n.push(void 0)}}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}return n}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t=[],n=!0,i=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;!1!==h.optionsForElement(l)?t.push(new h(l)):t.push(void 0)}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return t}()},h.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],h.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t=!0,n=!1,i=void 0;try{for(var r,a=h.blacklistedBrowsers[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value;o.test(navigator.userAgent)&&(e=!1)}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}}else e=!1;else e=!1;return e},h.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),a=0,o=t.length,l=0<=o;l?a<=o:a>=o;l?a++:a--)r[a]=t.charCodeAt(a);return new Blob([i],{type:n})};var m=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},v=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};h.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},h.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},h.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},h.getElements=function(e,t){var n,i;if(e instanceof Array){i=[];try{var r=!0,a=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done);r=!0)n=l.value,i.push(this.getElement(n,t))}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}}catch(e){i=null}}else if("string"==typeof e){i=[];var c=!0,u=!1,d=void 0;try{for(var p,f=document.querySelectorAll(e)[Symbol.iterator]();!(c=(p=f.next()).done);c=!0)n=p.value,i.push(n)}catch(e){u=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}}else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return i},h.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},h.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n=e.type,i=n.replace(/\/.*$/,""),r=!0,a=!1,o=void 0;try{for(var l,s=t[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value;if(c=c.trim(),"."===c.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(c.toLowerCase(),e.name.length-c.length))return!0}else if(/\/\*$/.test(c)){if(i===c.replace(/\/.*$/,""))return!0}else if(n===c)return!0}}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return!1},void 0!==e&&null!==e&&(e.fn.dropzone=function(e){return this.each(function(){return new h(this,e)})}),void 0!==p&&null!==p?p.exports=h:window.Dropzone=h,h.ADDED="added",h.QUEUED="queued",h.ACCEPTED=h.QUEUED,h.UPLOADING="uploading",h.PROCESSING=h.UPLOADING,h.CANCELED="canceled",h.ERROR="error",h.SUCCESS="success";var g=function(e){var t=(e.naturalWidth,e.naturalHeight),n=document.createElement("canvas");n.width=1,n.height=t;var i=n.getContext("2d");i.drawImage(e,0,0);for(var r=i.getImageData(1,0,1,t),a=r.data,o=0,l=t,s=t;s>o;){0===a[4*(s-1)+3]?l=s:o=s,s=l+o>>1}var c=s/t;return 0===c?1:c},y=function(e,t,n,i,r,a,o,l,s,c){var u=g(t);return e.drawImage(t,n,i,r,a,o,l,s,c/u)},b=function(){function e(){l(this,e)}return c(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,i=void 0,r="",a=void 0,o=void 0,l=void 0,s="",c=0;;)if(n=e[c++],i=e[c++],r=e[c++],a=n>>2,o=(3&n)<<4|i>>4,l=(15&i)<<2|r>>6,s=63&r,isNaN(i)?l=s=64:isNaN(r)&&(s=64),t=t+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(s),n=i=r="",a=o=l=s="",!(c<e.length))break;return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),r=this.exifManipulation(t,i);return"data:image/jpeg;base64,".concat(this.encode64(r))}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(t=e[n],255===t[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),a=i.slice(0,r),o=i.slice(r),l=a;return l=l.concat(t),l=l.concat(o)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];;){var i;if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{i=256*e[t+2]+e[t+3];var r=t+i+2,a=e.slice(t,r);n.push(a),t=r}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n=void 0,i="",r=void 0,a=void 0,o=void 0,l="",s=0,c=[],u=/[^A-Za-z0-9\+\/\=]/g;for(u.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");;)if(r=this.KEY_STR.indexOf(e.charAt(s++)),a=this.KEY_STR.indexOf(e.charAt(s++)),o=this.KEY_STR.indexOf(e.charAt(s++)),l=this.KEY_STR.indexOf(e.charAt(s++)),t=r<<2|a>>4,n=(15&a)<<4|o>>2,i=(3&o)<<6|l,c.push(t),64!==o&&c.push(n),64!==l&&c.push(i),t=n=i="",r=a=o=l="",!(s<e.length))break;return c}}]),e}();b.initClass();return h._autoDiscoverFunction=function(){if(h.autoDiscover)return h.discover()},function(e,t){var n=!1,i=!0,r=e.document,a=r.documentElement,o=r.addEventListener?"addEventListener":"attachEvent",l=r.addEventListener?"removeEventListener":"detachEvent",s=r.addEventListener?"":"on",c=function i(a){if("readystatechange"!==a.type||"complete"===r.readyState)return("load"===a.type?e:r)[l](s+a.type,i,!1),!n&&(n=!0)?t.call(e,a.type||a):void 0};if("complete"!==r.readyState){if(r.createEventObject&&a.doScroll){try{i=!e.frameElement}catch(e){}i&&function e(){try{a.doScroll("left")}catch(t){return void setTimeout(e,50)}return c("poll")}()}r[o](s+"DOMContentLoaded",c,!1),r[o](s+"readystatechange",c,!1),e[o](s+"load",c,!1)}}(window,h._autoDiscoverFunction),p.exports}),define("upload",["jquery","dropzone","layui"],function(e,t,n){var i={list:{},options:{},config:{container:document.body,classname:".plupload:not([initialized]),.faupload:not([initialized])",previewtpl:'<li class="file-item thumbnail"><a href="javascript:;"><img data-image onerror="this.src=\''+Yzn.api.fixurl("ajax/icon")+'?suffix={{d.suffix}}\';this.onerror=null;"  data-original="{{d.url}}" src="{{d.url}}"><div class="file-panel">{{- d.data.multiple==true ? "<i class=\'iconfont icon-drag-move-2-fill move-picture\'></i>" : "" }} {{# if(Config.modulename === \'admin\'){ }}<i class="iconfont icon-crop-line btn-cropper" data-input-id="{{d.data.inputId}}"></i>{{#  } }} <i class="iconfont icon-delete-bin-line remove-picture"></i></div></a></li>'},events:{onInit:function(){},onUploadSuccess:function(t,n,r){var a=t.element,o=t.options.onUploadSuccess,l=void 0!==n.data?n.data:n;if(a){var s=e(a).data("input-id")?e(a).data("input-id"):"";if(s){var c=[],u=e("#"+s);e(a).data("multiple")&&""!==u.val()&&c.push(u.val());var d=Config.upload.fullmode?Yzn.api.cdnurl(l.url):l.url,d=l.url;c.push(d),u.val(c.join(",")).trigger("change").trigger("validate")}var p=e(a).data("upload-success");if(p&&("function"!=typeof p&&"function"==typeof i.api.custom[p]&&(p=i.api.custom[p]),"function"==typeof p)){var f=p.call(a,l,n);if(!1===f)return}}if("function"==typeof o){var f=o.call(a,l,n);if(!1===f)return}},onUploadError:function(t,n,r){var a=t.element,o=t.options.onUploadError,l=void 0!==n.data?n.data:n;if(a){var s=e(a).data("upload-error");if(s&&("function"!=typeof s&&"function"==typeof i.api.custom[s]&&(s=i.api.custom[s]),"function"==typeof s)){var c=s.call(a,l,n);if(!1===c)return}}if("function"==typeof o){var c=o.call(a,l,n);if(!1===c)return}Toastr.error(n.msg.toString().replace(/(<([^>]+)>)/gi,"")+"(code:"+n.code+")")},onUploadResponse:function(t,n,i){try{var r="object"==typeof t?t:JSON.parse(t);r.hasOwnProperty("code")||e.extend(r,{code:-2,msg:t,data:null})}catch(e){var r={code:-1,msg:e.message,data:null}}return r},onUploadComplete:function(t,n){var r=t.element,a=t.options.onUploadComplete;if(r){var o=e(r).data("upload-complete");if(o&&("function"!=typeof o&&"function"==typeof i.api.custom[o]&&(o=i.api.custom[o]),"function"==typeof o)){var l=o.call(r,n);if(!1===l)return}}if("function"==typeof a){var l=a.call(r,n);if(!1===l)return}}},api:{upload:function(r,a,o,l){r=void 0===r?i.config.classname:r,e(r,i.config.container).each(function(){if(e(this).attr("initialized"))return!0;e(this).attr("initialized",!0);var r=this,s=e(this).prop("id")||e(this).prop("name")||t.uuidv4(),c=e(this).data("url"),u=e(this).data("maxsize"),d=e(this).data("maxcount"),p=e(this).data("mimetype"),f=e(this).data("multipart"),h=e(this).data("multiple"),m=e(this).data("type");m=void 0!==m?m.indexOf("image")>-1?"image":"file":"image";var v=e(r).data("input-id")?e(r).data("input-id"):"",g=e(r).data("preview-id")?e(r).data("preview-id"):"";c=c||Config.upload.uploadurl,c=Yzn.api.fixurl(c)+"?dir="+m;var y=Config.upload.chunksize||2097152,b=Config.upload.timeout||6e5;u=void 0!==u?u:Config.upload.maxsize,p=void 0!==p?p:Config.upload.mimetype,f=void 0!==f?f:Config.upload.multipart,h=void 0!==h?h:Config.upload.multiple,p=p.split(",").map(function(e){return e.indexOf("/")>-1?e:e&&"*"!==e&&"."!==e.charAt(0)?"."+e:e}).join(","),p="*"===p?null:p;var x=function(e){var t=e.toString().match(/^([0-9\.]+)(\w+)$/),n=t?parseFloat(t[1]):parseFloat(e),i=t?t[2].toLowerCase():"b",r={b:0,k:1,kb:1,m:2,mb:2,gb:3,g:3,tb:4,t:4},a=void 0!==r[i]?r[i]:0;return n*Math.pow(1024,a)/Math.pow(1024,2)}(u),w=e(this).data()||{};w=e.extend(!0,{},w,e(this).data("upload-options")||{}),delete w.success,delete w.url,f=e.isArray(f)?{}:f;var k=e(this).data("params")||{};void 0!==k.category||e(this).data("category");i.list[s]=new t(this,e.extend({url:c,params:function(t,n,i){var r=f;return i?e.extend({},r,{filesize:i.file.size,filename:i.file.name,chunkid:i.file.upload.uuid,chunkindex:i.index,chunkcount:i.file.upload.totalChunkCount,chunksize:this.options.chunkSize,chunkfilesize:i.dataBlock.data.size,width:i.file.width||0,height:i.file.height||0,type:i.file.type}):r},chunking:!1,chunkSize:y,maxFilesize:x,acceptedFiles:p,maxFiles:d&&parseInt(d)>1?d:h?null:1,timeout:b,parallelUploads:1,previewsContainer:!1,dictDefaultMessage:"å°æä»¶æå°æ­¤å¤ä¸è½½",dictFallbackMessage:"æ¨çæµè§å¨ä¸æ¯æææ¾æä»¶ä¸ä¼ ",dictFallbackText:"è¯·ä½¿ç¨ä¸é¢çå¤ç¨è¡¨ååä»¥åä¸æ ·ä¸ä¼ æ¨çæä»¶",dictFileTooBig:"å½åä¸ä¼ ({{filesize}}M)ï¼æå¤§åè®¸ä¸ä¼ æä»¶å¤§å°:{{maxFilesize}}M",dictInvalidFileType:"ä¸åè®¸ä¸ä¼ çæä»¶ç±»å",dictResponseError:"æå¡ç«¯ååº(Code:{{statusCode}})",dictCancelUpload:"åæ¶ä¸ä¼ ",dictUploadCanceled:"ä¸ä¼ å·²åæ¶",dictCancelUploadConfirmation:"ç¡®å®åæ¶ä¸ä¼ ï¼",dictRemoveFile:"ç§»é¤æä»¶",dictMaxFilesExceeded:"ä½ æå¤åè®¸ä¸ä¼  {{maxFiles}} ä¸ªæä»¶",init:function(){i.events.onInit.call(this),e(">i",this.element).addClass("dz-message"),this.options.elementHtml=e(this.element).html()},sending:function(e,t,n){void 0!==e.category&&n.append("category",e.category)},addedfile:function(t){var n=e(this.element).data("params")||{},i=void 0!==n.category?n.category:e(this.element).data("category")||"";t.category="function"==typeof i?i.call(this,t):i},addedfiles:function(t){if(this.options.maxFiles&&(!this.options.maxFiles||this.options.maxFiles>1)&&this.options.inputId){var n=e("#"+this.options.inputId);if(n.length>0){var i=e.trim(n.val()),r=""===i?0:i.split(/\,/).length,a=this.options.maxFiles-r;if(0===a||t.length>a){t=Array.prototype.slice.call(t,a);for(var o=0;o<t.length;o++)this.removeFile(t[o]);notice.error({message:"ä½ æå¤åè®¸ä¸ä¼  "+this.options.maxFiles+" ä¸ªæä»¶"})}}}},success:function(e,t){var n=i.events.onUploadResponse(t,this,e);e.ret=n,1===n.code?i.events.onUploadSuccess(this,n,e):i.events.onUploadError(this,n,e)},error:function(t,n,r){var a=e("<div>"+(r&&void 0!==r.responseText?r.responseText:n)+"</div>");a.find("style, title, script").remove();var o=a.text()||"ç½ç»éè¯¯!",l={code:0,data:null,msg:o};i.events.onUploadError(this,l,t)},uploadprogress:function(t,n,i){t.upload.chunked&&e(this.element).prop("disabled",!0).html("<i class='iconfont icon-upload-line'></i> ä¸ä¼ "+Math.floor(t.upload.bytesSent/t.size*100)+"%")},totaluploadprogress:function(t,n){this.getActiveFiles().length>0&&!this.options.chunking&&e(this.element).prop("disabled",!0).html("<i class='iconfont icon-upload-line'></i> ä¸ä¼ "+Math.floor(t)+"%")},queuecomplete:function(){i.events.onUploadComplete(this,this.files),this.removeAllFiles(!0),e(this.element).prop("disabled",!1).html(this.options.elementHtml)},chunkSuccess:function(e,t,n){},chunksUploaded:function(t,n){var i=this;Yzn.api.ajax({url:this.options.url,data:e.extend({},f,{action:"merge",filesize:t.size,filename:t.name,chunkid:t.upload.uuid,chunkcount:t.upload.totalChunkCount})},function(e,t){return n(JSON.stringify(t)),!1},function(e,n){t.accepted=!1,i._errorProcessing([t],n.msg)})},onUploadSuccess:a,onUploadError:o,onUploadComplete:l},i.options,w)),g&&h&&require(["dragsort"],function(){e("#"+g).dragsort({dragSelector:".move-picture",dragEnd:function(){e("#"+g).trigger("fa.preview.change")},placeHolderTemplate:'<li class="file-item thumbnail" style="border:1px #009688 dashed;"></li>'})});var _=function(t){var n={},i=e("textarea[name='"+t+"']"),r=i.prev("ul");e.each(e("input,select,textarea",r).serializeArray(),function(e,t){var i=/\[?(\w+)\]?\[(\w+)\]$/g,r=i.exec(t.name);if(!r)return!0;isNaN(r[2])?(r[1]="x"+parseInt(r[1]),void 0===n[r[1]]&&(n[r[1]]={}),n[r[1]][r[2]]=t.value):n[e]=t.value});var a=[];e.each(n,function(e,t){a.push(t)}),i.val(JSON.stringify(a))};g&&v&&(e(document.body).on("keyup change","#"+v,function(t){var a=e("#"+v).val(),o=a.split(/\,/),l=e("#"+g);l.empty();var s=l.data("template")?l.data("template"):"",c=l.next().is("textarea")?l.next("textarea").val():"{}",u={};try{u=JSON.parse(c)}catch(t){}e.each(o,function(t,a){if(!a)return!0;var o=/[\.]?([a-zA-Z0-9]+)$/.exec(a);o=o?o[1]:"file",a=Config.upload.fullmode?Yzn.api.cdnurl(a):a;var c=u&&void 0!==u[t]?u[t]:null,d={url:a,fullurl:Yzn.api.cdnurl(a),data:e(r).data(),key:t,index:t,value:c,row:c,suffix:o},d={url:a,data:e(r).data(),key:t,index:t,value:c,row:c,suffix:o};n.laytpl(s?e("#"+s).html():i.config.previewtpl).render(d,function(e){l.append(e)})}),_(l.data("name"))}),e("#"+v).trigger("change")),g&&(e("#"+g).on("change keyup","input,textarea,select",function(){_(e(this).closest("ul").data("name"))}),e(document.body).on("fa.preview.change","#"+g,function(){var t=[];e("#"+g+" [data-original]").each(function(n,i){t.push(e(this).data("original"))}),v&&e("#"+v).val(t.join(",")),_(e("#"+g).data("name"))}),e(document.body).on("click","#"+g+" .remove-picture",function(){e(this).closest("li").remove(),e("#"+g).trigger("fa.preview.change")})),v&&(e("#"+v).closest("form").on("reset",function(){setTimeout(e.proxy(function(){e("#"+v,this).trigger("change")},this),0)}),e("body").on("paste drop","#"+v,function(t){var n=t.originalEvent,r=e(".plupload[data-input-id='"+e(this).attr("id")+"'],.faupload[data-input-id='"+e(this).attr("id")+"']");if("paste"===t.type&&n.clipboardData&&n.clipboardData.items){var a=n.clipboardData.items;if(!(1===a.length&&a[0].type.indexOf("text")>-1||2===a.length&&a[1].type.indexOf("text")>-1))return i.list[r.attr("id")].paste(n),!1}if("drop"===t.type&&n.dataTransfer&&n.dataTransfer.files)return i.list[r.attr("id")].drop(n),!1}))})},plupload:function(e,t,n,r){return i.api.upload(e,t,n,r)},faupload:function(e,t,n,r){return i.api.upload(e,t,n,r)},send:function(n,r,a,o){var l=layer.msg("ä¸ä¼ ä¸­",{offset:"t",time:0,icon:0}),s="dropzone-"+t.uuidv4();e('<button type="button" id="'+s+'" class="btn btn-danger hidden faupload" />').appendTo("body"),e("#"+s).data("upload-complete",function(e){layer.close(l),i.list[s].removeAllFiles(!0)}),i.api.upload("#"+s,r,a,o),setTimeout(function(){i.list[s].addFile(n)},1)},custom:{afteruploadcallback:function(e){console.log(this,e),alert("Custom Callback,Response URL:"+e.url)}}}};return i}),define("form",["jquery","layui","upload"],function(e,t,n){var i=t.form,r={config:{fieldlisttpl:'<dd class="layui-form-item rules-item"><input type="text" class="layui-input" name="{{d.name}}[{{d.index}}][key]" placeholder="é®" value="{{d.key|| \'\'}}" /> <input type="text" class="layui-input" name="{{d.name}}[{{d.index}}][value]" placeholder="å¼" value="{{d.value|| \'\'}}" /> <button type="button" class="layui-btn layui-btn-danger btn-remove layui-btn-xs"><i class="iconfont icon-close-fill"></i></button><button type="button" class="layui-btn btn-dragsort layui-btn-xs"><i class="iconfont icon-drag-move-2-fill"></i></button></dd>'},events:{bindevent:function(e){},validator:function(t,n,a,o){if(t.is("form")){var l=e("[lay-submit]",t),s=l.attr("lay-filter");e(".layer-footer [lay-submit],.fixed-footer [lay-submit],.normal-footer [lay-submit]",t).removeClass("disabled"),i.verify({username:function(e,t){if(!/^\w{3,30}$/.test(e))return"ç¨æ·ååªè½ç±3-30ä½æ°å­ãå­æ¯ãä¸åçº¿ç»å"},password:function(e,t){if(!/^[\S]{6,30}$/.test(e))return"å¯ç é¿åº¦å¿é¡»å¨6-30ä½ä¹é´ï¼ä¸è½åå«ç©ºæ ¼"}}),i.on("submit("+s+")",function(i){return l.addClass("disabled"),r.api.submit(t,function(t,i){if(l.removeClass("disabled"),!1===e(this).triggerHandler("success.form",[t,i]))return!1;if("function"==typeof n&&!1===n.call(e(this),t,i))return!1;var r=i.hasOwnProperty("msg")&&""!==i.msg?i.msg:"æä½æå!";if(parent.Toastr.success(r),parent.$(".btn-refresh").trigger("click"),window.name){var a=parent.Layer.getFrameIndex(window.name);parent.Layer.close(a)}return!1},function(t,n){return!1!==e(this).triggerHandler("error.form",[t,n])&&(l.removeClass("disabled"),("function"!=typeof a||!1!==a.call(e(this),t,n))&&void 0)},o)||l.removeClass("disabled"),!1}),t.on("click",".layer-close",function(){if(window.name){var e=parent.Layer.getFrameIndex(window.name);parent.Layer.close(e)}return!1})}},faselect:function(t){e(".faselect,.fachoose",t).length>0&&e(".faselect,.fachoose",t).off("click").on("click",function(){var t=this,n=!!e(this).data("multiple")&&e(this).data("multiple"),i=e(this).data("mimetype")?e(this).data("mimetype"):"",r=e(this).data("admin-id")?e(this).data("admin-id"):"",a=e(this).data("user-id")?e(this).data("user-id"):"";i=i.replace(/\/\*/gi,"/");var o=e(this).data("url")?e(this).data("url"):"undefined"!=typeof Backend?"general.attachments/select":"user/attachment";return parent.Yzn.api.open(o+"?element_id="+e(this).attr("id")+"&multiple="+n+"&mimetype="+i+"&admin_id="+r+"&user_id="+a,"éæ©",{callback:function(n){var i=e(t),r=e(i).data("maxcount"),a=e(i).data("input-id")?e(i).data("input-id"):"";if(r=void 0!==r?r:0,a&&n.multiple){var o=[],l=e("#"+a),s=e.trim(l.val());""!==s&&o.push(l.val());var c=""===s?0:s.split(/\,/).length,u=""!==n.url?n.url.split(/\,/):[];if(e.each(u,function(e,t){var n=Config.upload.fullmode?Fast.api.cdnurl(t):t;o.push(n)}),r>0){var d=r-c;if(u.length>d)return Toastr.error("ä½ æå¤éæ©"+d+"ä¸ªæä»¶"),!1}var p=o.join(",");l.val(p).trigger("change")}else if(a){var f=Config.upload.fullmode?Yzn.api.cdnurl(n.url):n.url;e("#"+a).val(f).trigger("change").trigger("validate")}}}),!1})},favisible:function(t){if(0!=e("[data-favisible]",t).length){var n=function(n){var i,r,a=n.split(/&&/),o=0,l=/^([a-z0-9\_]+)([>|<|=|\!]=?)(.*)$/i,s=/^('|")(.*)('|")$/,c=/^regex:(.*)$/,u={">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},in:function(e,t){return t.split(/\,/).indexOf(e)>-1},regex:function(e,t){var n=t.match(/^\/(.*?)\/([gim]*)$/);return(n?new RegExp(n[1],n[2]):new RegExp(t)).test(e)}},d=t.serializeArray(),p={},f=t.attr("data-field")||"row";return e(d).each(function(e,t){i=t.name,r=t.value,i="[]"===i.substr(-2)?i.substr(0,i.length-2):i,p[i]=void 0!==p[i]?[p[i],r].join(","):r}),e.each(a,function(t,n){var i=l.exec(n);if(i){var r=i[1],a=i[2],d=i[3].toString();if("="===a){var h=s.exec(d);a=h?"==":"in",d=h?h[2]:d}var m=c.exec(d);m&&(a="regex",d=m[1]);var v=f+"["+r+"]";if(void 0===p[v])return!1;var g=p[v];e.isArray(g)&&(g=p[v].join(",")),[">",">=","<","<="].indexOf(a)>-1&&(g=parseFloat(g),d=parseFloat(d));var y=u[a](g,d);o+=y?1:0}}),o===a.length},r=function(){e("[data-favisible][data-favisible!='']",t).each(function(){var t=e(this).data("favisible"),i=t?t.toString().split(/\|\|/):[],r=0;e.each(i,function(e,t){n(t)&&r++}),r>0?e(this).removeClass("layui-hide"):e(this).addClass("layui-hide")})};t.on("keyup change click configchange","input,textarea,select",function(){r()}),i.on("select",function(e){r()}),i.on("checkbox",function(e){r()}),i.on("switch",function(e){r()}),i.on("radio",function(e){r()}),setTimeout(function(){t.find(".layui-hide,[data-favisible]").find("[lay-verify]").removeAttr("lay-verify")},0),e("input,textarea,select",t).trigger("configchange")}},fieldlist:function(n){e(".fieldlist",n).length>0&&require(["dragsort"],function(a){var o=function(t,i){var r={},a=t.data("name"),o=e("textarea[name='"+a+"']",n),l=t.data("template");e.each(e("input,select,textarea",t).serializeArray(),function(t,n){
var a=/\[(\w+)\]\[(\w+)\]$/g,o=a.exec(n.name);if(!o)return!0;o[1]="x"+parseInt(o[1]),void 0===r[o[1]]&&(r[o[1]]={}),void 0!==i&&e(i.elem).attr("name")==n.name?r[o[1]][o[2]]=i.value:r[o[1]][o[2]]=n.value});var s=t.data("usearray")||!1,c=t.data("keepempty")||!1,u=l||s?[]:{},d=Object.keys(Object.values(r)[0]||{}),p=!s&&d.indexOf("value")>-1&&(1===d.length||2===d.length&&d.indexOf("key")>-1);p&&2===d.length&&(u={}),e.each(r,function(e,t){t&&(p?2===d.length?(""!=t.key||c)&&(u["__PLACEHOLDKEY__"+t.key]=t.value):u.push(t.value):u.push(t))}),o.val(JSON.stringify(u).replace(/__PLACEHOLDKEY__/g,""))},l=function(n,a,o){var l=n.data("tag")||(n.is("table")?"tr":"dd"),s=n.data("index"),c=n.data("name"),u=n.data("template"),d=n.data();s=s?parseInt(s):0,n.data("index",s+1),a=a||{},a=void 0===a.key||void 0===a.value?{key:"",value:""}:a;var p=n.data("fieldlist-options")||{},f={index:s,name:c,data:d,options:p,key:a.key,value:a.value,row:a.value},h=u?e("#"+u).html():r.config.fieldlisttpl,m=t.laytpl(h).render(f),v=e(m);return!1!==p.deleteBtn&&!1!==p.removeBtn||!o||v.find(".btn-remove").remove(),!1===p.dragsortBtn&&o&&v.find(".btn-dragsort").remove(),!0!==p.readonlyKey&&!0!==p.disableKey||!o||v.find("input[name$='[key]']").prop("readonly",!0),v.attr("fieldlist-item",!0),v.insertAfter(e(l+"[fieldlist-item]",n).length>0?e(l+"[fieldlist-item]:last",n):e(l+":first",n)),i.render(),e(".btn-append,.append",n).length>0?e(".btn-append,.append",n).trigger("fa.event.appendfieldlist",v):n.trigger("fa.event.appendfieldlist",v),v},s=e(".fieldlist",n);e(document).on("change keyup changed",".fieldlist input,.fieldlist textarea,.fieldlist select",function(){var t=e(this).closest(".fieldlist");o(t)}),s.on("click",".btn-append,.append",function(t,n){var i=e(this).closest(".fieldlist");l(i,n),o(i)}),s.on("click",".btn-remove",function(){var t=e(this).closest(".fieldlist"),n=t.data("tag")||(t.is("table")?"tr":"dd");e(this).closest(n).remove(),o(t)}),s.on("fa.event.appendtofieldlist",function(t,n){var i=e(this);l(i,n),o(i)}),i.on("radio(fieldlist)",function(t){var n=e(this).closest(".fieldlist");o(n,t)}),i.on("select(fieldlist)",function(t){var n=e(this).closest(".fieldlist");o(n,t)}),s.on("fa.event.refreshfieldlist",function(){var t=e(this),i=e("textarea[name='"+t.data("name")+"']",n);e("[fieldlist-item]",t).remove();var r={};try{var a=i.val().replace(/"(\d+)"\:/g,'"__PLACEHOLDERKEY__$1":');r=JSON.parse(a)}catch(e){}e.each(r,function(e,n){l(t,{key:e.toString().replace("__PLACEHOLDERKEY__",""),value:n},!0)})}),s.each(function(){var t=e(this),i=t.data("tag")||(t.is("table")?"tr":"dd");t.dragsort({itemSelector:i,dragSelector:".btn-dragsort",dragEnd:function(){o(t)},placeHolderTemplate:e("<"+i+"/>")}),"object"==typeof t.data("options")&&!1===t.data("options").appendBtn&&e(".btn-append,.append",t).hide(),e("textarea[name='"+t.data("name")+"']",n).on("fa.event.refreshfieldlist",function(){e(this).closest(".fieldlist").trigger("fa.event.refreshfieldlist")})}),s.trigger("fa.event.refreshfieldlist")})},selectpage:function(t){e(".selectpage",t).length>0&&require(["selectpage"],function(){e(".selectpage",t).selectPage({eAjaxSuccess:function(e){return e.list=void 0!==e.data?e.data:[],e.totalRow=void 0!==e.count?e.count:e.data.length,e}})})},cxselect:function(t){e("[data-toggle='cxselect']",t).length>0&&require(["cxselect"],function(){e.cxSelect.defaults.jsonName="name",e.cxSelect.defaults.jsonValue="value",e.cxSelect.defaults.jsonSpace="data",e("[data-toggle='cxselect']",t).cxSelect()})},citypicker:function(t){e("[data-toggle='city-picker']",t).length>0&&require(["citypicker"],function(){e(t).on("reset",function(){setTimeout(function(){e("[data-toggle='city-picker']").citypicker("refresh")},1)})})},datetimepicker:function(n){e(".datetime",n).length>0&&e(".datetime",n).each(function(){var n=e(this).attr("data-date"),i=e(this).attr("data-date-type"),r=e(this).attr("data-date-range");void 0!==i&&""!==i&&null!==i||(i="datetime");var a={elem:this,type:i,trigger:"click"};void 0!==n&&""!==n&&null!==n&&(a.format=n),void 0!==r&&(null!==r&&""!==r||(r="-"),a.range=r,a.shortcuts=[{text:"ä»å¤©",value:function(){var e=new Date;return[new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59)]}},{text:"æ¨å¤©",value:function(){var e=new Date;return e.setDate(e.getDate()-1),[new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59)]}},{text:"7å¤©å",value:function(){var e=new Date,t=new Date;return t.setDate(e.getDate()-7),[new Date(t.getFullYear(),t.getMonth(),t.getDate()),new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59)]}},{text:"æ¬æ",value:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth();return[new Date(t,n,1),new Date(t,n+1,0,23,59,59)]}},{text:"ä¸ä¸ªæ",value:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth();return[new Date(t,n-1,1),new Date(t,n,0,23,59,59)]}}]),t.laydate.render(a)})},tagsinput:function(t){e(".form-tags",t).length>0&&require(["tagsinput"],function(){e(".form-tags",t).each(function(){e(this).tagsInput({width:"auto",defaultText:e(this).data("remark")||"å³é®è¯åè½¦ç¡®è®¤",height:"26px"})})})},colorpicker:function(n){e(".colorpicker",n).length>0&&e(".colorpicker",n).each(function(){var n=e(this).data("input-id"),i=e("#"+n);t.colorpicker.render({elem:e(this),color:i.val(),done:function(e){i.val(e)}})})},cropper:function(){e(document).off("click",".btn-cropper").on("click",".btn-cropper",function(){var t=e("#"+e(this).data("input-id")),i=e(this).parent(".file-panel").prev("img").data("original"),r=i;(parent||window).Yzn.api.open("general.attachments/cropper?url="+i,"è£åª",{callback:function(e){if(void 0!==e){for(var a=e.dataURI.split(","),o=a[0].match(/:(.*?);/)[1],l=atob(a[1]),s=l.length,c=new Uint8Array(s);s--;)c[s]=l.charCodeAt(s);var u=r.split(".");r=u.join("");var d=r.substr(r.lastIndexOf("/")+1);d=new RegExp("\\.png$","i").test(d)?d:d+".png";var p=new File([c],d,{type:o});n.api.send(p,function(e){t.val(t.val().replace(i,e.url)).trigger("change")},function(e){})}},area:["800px","600px"]})})},xmSelect:function(){e(".layui-form .form-selects").length>0&&require(["xm-select"],function(t){e(".layui-form .form-selects").each(function(){var n=e(this).data("name"),i=Array.isArray(e(this).data("list"))||"object"==typeof e(this).data("list")?e(this).data("list"):[],r=e(this).data("value"),a=[];e.each(i,function(e,t){var n={};n.value=e,n.name=t,a.push(n)}),"object"!=typeof r&&r&&(r="number"==typeof r?[r]:r.split(",")),t.render({el:document.querySelector(".form-selects"),initValue:r,name:n,data:a})})})},plupload:function(e){r.events.faupload(e)},faupload:function(t){e(".plupload,.faupload",t).length>0&&n.api.upload(e(".plupload,.faupload",t))}},api:{submit:function(t,n,i,r){if(0===t.length)return Toastr.error("è¡¨åæªåå§åå®æ,æ æ³æäº¤"),!1;if("function"==typeof r&&!1===r.call(t,n,i))return!1;var a=t.attr("method")?t.attr("method").toUpperCase():"POST";a=!a||"GET"!==a&&"POST"!==a?"POST":a,url=t.attr("action"),url=url||location.href;var o={},l=e("[name$='[]']",t);if(l.length>0){var s=t.serializeArray().map(function(t){return e(t).prop("name")});e.each(l,function(t,n){s.indexOf(e(this).prop("name"))<0&&(o[e(this).prop("name")]="")})}return Yzn.api.ajax({type:a,url:url,data:t.serialize()+(Object.keys(o).length>0?"&"+e.param(o):""),dataType:"json",complete:function(t){var n=t.getResponseHeader("__token__");n&&e("input[name='__token__']").val(n)}},function(i,r){if(i&&"object"==typeof i&&(void 0!==i.token&&e("input[name='__token__']").val(i.token),void 0!==i.callback&&"function"==typeof i.callback&&i.callback.call(t,i)),"function"==typeof n&&!1===n.call(t,i,r))return!1},function(n,r){if(n&&"object"==typeof n&&void 0!==n.token&&e("input[name='__token__']").val(n.token),"function"==typeof i&&!1===i.call(t,n,r))return!1}),!0},bindevent:function(t,n,i,a){t="object"==typeof t?t:e(t);var o=r.events;o.bindevent(t),o.validator(t,n,i,a),o.selectpage(t),o.faupload(t),o.faselect(t),o.fieldlist(t),o.cxselect(t),o.citypicker(t),o.datetimepicker(t),o.colorpicker(t),o.cropper(),o.xmSelect(),o.tagsinput(t),o.favisible(t)}}};return r}),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data(u.dataKey),r=e.extend({},c,n.data(),i&&i.option,"object"==typeof t&&t);i||n.data(u.dataKey,i=new u(this,r))})}function n(t){return e(t).closest("div.sp_container").find("input.sp_input")}function i(){return this.each(function(){var e=n(this),t=e.data(u.dataKey);t&&(t.prop.init_set=!0,t.clearAll(t),t.prop.init_set=!1)})}function r(){return this.each(function(){var e=n(this),t=e.data(u.dataKey);t&&t.elem.hidden.val()&&t.setInitRecord(!0)})}function a(t){return this.each(function(){if(t&&e.isArray(t)){var i=n(this),r=i.data(u.dataKey);r&&(r.clearAll(r),r.option.data=t)}})}function o(t){var i=!1;return this.each(function(){var r=n(this),a=r.data(u.dataKey);a&&("undefined"!==e.type(t)?a.disabled(a,t):i=a.disabled(a))}),i}function l(){var t="";return this.each(function(){var i=n(this),r=i.data(u.dataKey);if(r)if(r.option.multiple){var a=[];r.elem.element_box.find("li.selected_tag").each(function(t,n){a.push(e(n).text())}),t+=a.toString()}else t+=r.elem.combo_input.val()}),t}function s(){var t=[];return this.each(function(){var i=n(this),r=i.data(u.dataKey);if(r)if(r.option.multiple)r.elem.element_box.find("li.selected_tag").each(function(n,i){t.push(e(i).data("dataObj"))});else{var a=r.elem.combo_input.data("dataObj");a&&t.push(a)}}),t}var c={data:void 0,lang:"cn",multiple:!1,pagination:!0,dropButton:!0,listSize:10,multipleControlbar:!0,maxSelectLimit:0,selectToCloseList:!1,initRecord:void 0,dbTable:"tbl",keyField:"id",showField:"name",searchField:void 0,escape:!0,andOr:"OR",separator:",",orderBy:void 0,pageSize:10,params:void 0,formatItem:void 0,autoFillResult:!1,autoSelectFirst:!1,noResultClean:!0,selectOnly:!1,inputDelay:.5,eSelect:void 0,eOpen:void 0,eAjaxSuccess:void 0,eTagRemove:void 0,eClear:void 0},u=function(t,n){e.each({data:"source",keyField:"primaryKey",showField:"field",pageSize:"perPage"},function(e,t){void 0!==n[t]&&(n[e]=n[t],delete n[t])}),this.setOption(n),this.setLanguage(),this.setCssClass(),this.setProp(),this.setElem(t),this.setButtonAttrDefault(),this.setInitRecord(),this.eDropdownButton(),this.eInput(),this.eWhole()};u.version="2.19",u.dataKey="selectPageObject",u.prototype.setOption=function(t){t.searchField=t.searchField||t.showField,t.andOr=t.andOr.toUpperCase(),"AND"!==t.andOr&&"OR"!==t.andOr&&(t.andOr="AND");for(var n=["searchField"],i=0;i<n.length;i++)t[n[i]]=this.strToArray(t[n[i]]);if(t.orderBy=t.orderBy||t.showField,!1!==t.orderBy&&(t.orderBy=this.setOrderbyOption(t.orderBy,t.showField)),t.multiple&&!t.selectToCloseList&&(t.autoFillResult=!1,t.autoSelectFirst=!1),t.pagination||(t.pageSize=200),("number"!==e.type(t.listSize)||t.listSize<0)&&(t.listSize=10),"string"==typeof t.formatItem){var r=t.formatItem;t.formatItem=function(e){return"function"==typeof Template&&r.match(/\#([a-zA-Z0-9_\-]+)$/)?Template(r.substring(1),e):r.replace(/\{(.*?)\}/gi,function(t){return t=t.substring(1,t.length-1),void 0!==e[t]?e[t]:""})}}this.option=t},u.prototype.escapeHTML=function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):e},u.prototype.strToArray=function(e){return e?e.replace(/[\sã]+/g,"").split(","):""},u.prototype.setOrderbyOption=function(t,n){var i=[],r=[];if("object"==typeof t)for(var a=0;a<t.length;a++)r=e.trim(t[a]).split(" "),r.length&&i.push(2===r.length?r.concat():[r[0],"ASC"]);else r=e.trim(t).split(" "),i[0]=2===r.length?r.concat():r[0].toUpperCase().match(/^(ASC|DESC)$/i)?[n,r[0].toUpperCase()]:[r[0],"ASC"];return i},u.prototype.setLanguage=function(){var e,t=this.option;switch(t.lang){case"en":e={add_btn:"Add button",add_title:"add a box",del_btn:"Del button",del_title:"delete a box",next:"Next",next_title:"Next"+t.pageSize+" (Right key)",prev:"Prev",prev_title:"Prev"+t.pageSize+" (Left key)",first_title:"First (Shift + Left key)",last_title:"Last (Shift + Right key)",get_all_btn:"Get All (Down key)",get_all_alt:"(button)",close_btn:"Close (Tab key)",close_alt:"(button)",loading:"loading...",loading_alt:"(loading)",page_info:"page_num of page_count",select_ng:"Attention : Please choose from among the list.",select_ok:"OK : Correctly selected.",not_found:"not found",ajax_error:"An error occurred while loading data.",clear:"Clear content",select_all:"Select current page",unselect_all:"Clear current page",clear_all:"Clear all selected",max_selected:"You can only select up to max_selected_limit items"};break;case"cn":default:e={add_btn:"æ·»å æé®",add_title:"æ·»å åºå",del_btn:"å é¤æé®",del_title:"å é¤åºå",next:"ä¸ä¸é¡µ",next_title:"ä¸"+t.pageSize+" (â)",prev:"ä¸ä¸é¡µ",prev_title:"ä¸"+t.pageSize+" (â)",first_title:"é¦é¡µ (Shift + â)",last_title:"å°¾é¡µ (Shift + â)",get_all_btn:"è·å¾å¨é¨ (â)",get_all_alt:"(æé®)",close_btn:"å³é­ (Tabé®)",close_alt:"(æé®)",loading:"è¯»åä¸­...",loading_alt:"(è¯»åä¸­)",page_info:"ç¬¬ page_num é¡µ(å±page_counté¡µ)",select_ng:"è¯·æ³¨æï¼è¯·ä»åè¡¨ä¸­éæ©.",select_ok:"OK : å·²ç»éæ©.",not_found:"æ æ¥è¯¢ç»æ",ajax_error:"å è½½æ°æ®æ¶åçäºéè¯¯ï¼",clear:"æ¸é¤åå®¹",select_all:"éæ©å½åé¡µé¡¹ç®",unselect_all:"åæ¶éæ©å½åé¡µé¡¹ç®",clear_all:"æ¸é¤å¨é¨å·²éæ©é¡¹ç®",max_selected:"æå¤åªè½éæ© max_selected_limit ä¸ªé¡¹ç®"}}this.message=e},u.prototype.setCssClass=function(){var e={container:"sp_container",container_open:"sp_container_open",re_area:"sp_result_area",result_open:"sp_result_area_open",control_box:"sp_control_box",element_box:"sp_element_box",navi:"sp_navi",results:"sp_results",re_off:"sp_results_off",select:"sp_over",select_ok:"sp_select_ok",select_ng:"sp_select_ng",selected:"sp_selected",input_off:"sp_input_off",message_box:"sp_message_box",disabled:"sp_disabled",button:"sp_button",caret_open:"sp_caret_open",btn_on:"sp_btn_on",btn_out:"sp_btn_out",input:"sp_input",clear_btn:"sp_clear_btn",align_right:"sp_align_right"};this.css_class=e},u.prototype.setProp=function(){this.prop={disabled:!1,current_page:1,max_page:1,is_loading:!1,xhr:!1,key_paging:!1,key_select:!1,prev_value:"",selected_text:"",last_input_time:void 0,init_set:!1},this.template={tag:{content:'<li class="selected_tag" itemvalue="#item_value#">#item_text#<span class="tag_close"><i class="spfont sp-close"></i></span></li>',textKey:"#item_text#",valueKey:"#item_value#"},page:{current:"page_num",total:"page_count"},msg:{maxSelectLimit:"max_selected_limit"}}},u.prototype.elementRealSize=function(t,n){var i,r,a,o={absolute:!1,clone:!1,includeMargin:!1,display:"block"},l=o,s=t.eq(0),c=[],u="";i=function(){a=s.parents().addBack().filter(":hidden"),u+="visibility: hidden !important; display: "+l.display+" !important; ",!0===l.absolute&&(u+="position: absolute !important;"),a.each(function(){var t=e(this),n=t.attr("style");c.push(n),t.attr("style",n?n+";"+u:u)})},r=function(){a.each(function(t){var n=e(this),i=c[t];void 0===i?n.removeAttr("style"):n.attr("style",i)})},i();var d=/(outer)/.test(n)?s[n](l.includeMargin):s[n]();return r(),d},u.prototype.setElem=function(t){var n={},i=this.option,r=this.css_class,a=this.message,o=e(t),l=o.css("width"),s=o.outerWidth();l.indexOf("%")>-1||o.parent().length>0&&o.parent().width()==s?s="100%":(s<=0&&(s=this.elementRealSize(o,"outerWidth")),s<150&&(s=150)),n.combo_input=o.attr({autocomplete:"off"}).addClass(r.input).wrap("<div>"),i.selectOnly&&n.combo_input.prop("readonly",!0),n.container=n.combo_input.parent().addClass(r.container),n.combo_input.prop("disabled")&&(i.multiple?n.container.addClass(r.disabled):n.combo_input.addClass(r.input_off)),n.container.width(s),n.button=e("<div>").addClass(r.button),n.dropdown=e('<span class="sp_caret"></span>'),n.clear_btn=e("<div>").html(e("<i>").addClass("spfont sp-close")).addClass(r.clear_btn).attr("title",a.clear),i.dropButton||n.clear_btn.addClass(r.align_right),n.element_box=e("<ul>").addClass(r.element_box),i.multiple&&i.multipleControlbar&&(n.control=e("<div>").addClass(r.control_box)),n.result_area=e("<div>").addClass(r.re_area),i.pagination&&(n.navi=e("<div>").addClass("sp_pagination").append("<ul>")),n.results=e("<ul>").addClass(r.results);var c=n.combo_input.attr("id")||n.combo_input.attr("name"),u=n.combo_input.attr("name")||"selectPage",d=u,p=c;if(n.hidden=e('<input type="hidden" class="sp_hidden" />').attr({name:d,id:p}).val(""),n.combo_input.attr({name:void 0!==o.data("name")?o.data("name"):u+"_text",id:c+"_text"}),n.hidden.attr("data-rule",n.combo_input.data("rule")||""),n.combo_input.attr("novalidate","novalidate"),n.container.append(n.hidden),i.dropButton&&(n.container.append(n.button),n.button.append(n.dropdown)),e(document.body).append(n.result_area),n.result_area.append(n.results),i.pagination&&n.result_area.append(n.navi),i.multiple){i.multipleControlbar&&(n.control.append('<button type="button" class="btn btn-default sp_clear_all" ><i class="spfont sp-clear"></i></button>'),n.control.append('<button type="button" class="btn btn-default sp_unselect_all" ><i class="spfont sp-unselect-all"></i></button>'),n.control.append('<button type="button" class="btn btn-default sp_select_all" ><i class="spfont sp-select-all"></i></button>'),n.control_text=e("<p>"),n.control.append(n.control_text),n.result_area.prepend(n.control)),n.container.addClass("sp_container_combo"),n.combo_input.addClass("sp_combo_input").before(n.element_box);var f=e("<li>").addClass("input_box");f.append(n.combo_input),n.element_box.append(f),n.combo_input.attr("placeholder")&&n.combo_input.attr("placeholder_bak",n.combo_input.attr("placeholder"))}this.elem=n},u.prototype.setButtonAttrDefault=function(){this.option.dropButton&&this.elem.button.attr("title",this.message.close_btn)},u.prototype.setInitRecord=function(t){var n=this,i=n.option,r=n.elem,a="";if("undefined"!=e.type(r.combo_input.data("init"))&&(i.initRecord=String(r.combo_input.data("init"))),t||i.initRecord||!r.combo_input.val()||(i.initRecord=r.combo_input.val()),r.combo_input.val(""),t||r.hidden.val(i.initRecord),a=t&&r.hidden.val()?r.hidden.val():i.initRecord)if("object"==typeof i.data){var o=new Array,l=a.split(",");e.each(l,function(e,t){for(var n=0;n<i.data.length;n++)if(i.data[n][i.keyField]==t){o.push(i.data[n]);break}}),!i.multiple&&o.length>1&&(o=[o[0]]),n.afterInit(n,o)}else{var s=i.params,c={},u=(i.searchField,{searchTable:i.dbTable,searchKey:i.keyField,searchValue:a,orderBy:i.orderBy,showField:i.showField,keyField:i.keyField,keyValue:a,searchField:i.searchField});if(s){var d=e.isFunction(s)?s(n):s;c=d&&e.isPlainObject(d)?e.extend({},u,d):u}else c=u;e.ajax({dataType:"json",type:"POST",url:i.data,data:c,success:function(t){var r=null;i.eAjaxSuccess&&e.isFunction(i.eAjaxSuccess)&&(r=i.eAjaxSuccess(t)),n.afterInit(n,r.list)},error:function(e,t,i){n.ajaxErrorNotify(n,i)}})}},u.prototype.afterInit=function(t,n){if(n&&(!e.isArray(n)||0!==n.length)){e.isArray(n)||(n=[n]);var i=t.option,r=t.css_class;if(t.data=n,i.multiple)t.prop.init_set=!0,t.clearAll(t),e.each(n,function(e,n){var r=i.escape?t.escapeHTML(n[i.keyField]):n[i.keyField],a=i.escape?t.escapeHTML(n[i.showField]):n[i.showField],o={text:a,value:r};t.isAlreadySelected(t,o)||t.addNewTag(t,n,o)}),t.tagValuesSet(t),t.inputResize(t),t.elem.hidden.blur(),t.prop.init_set=!1;else{var a=n[0],o=i.escape?t.escapeHTML(a[i.keyField]):a[i.keyField],l=i.escape?t.escapeHTML(a[i.showField]):a[i.showField];t.elem.combo_input.val(l),t.elem.hidden.val(o),t.prop.prev_value=l,t.prop.selected_text=l,i.selectOnly&&t.elem.combo_input.attr("title",t.message.select_ok).removeClass(r.select_ng).addClass(r.select_ok),t.putClearButton()}}},u.prototype.eDropdownButton=function(){var e=this;e.option.dropButton&&e.elem.button.mouseup(function(t){t.stopPropagation(),e.elem.result_area.is(":hidden")&&!e.elem.combo_input.prop("disabled")?e.elem.combo_input.focus():e.hideResults(e)})},u.prototype.eInput=function(){var t=this,n=t.option,i=t.elem,r=t.message,a=function(){t.prop.page_move=!1,t.suggest(t),t.setCssFocusedInput(t)};i.combo_input.keyup(function(e){t.processKey(t,e)}).keydown(function(e){t.processControl(t,e)}).focus(function(e){i.result_area.is(":hidden")&&(e.stopPropagation(),t.prop.first_show=!0,a())}),i.container.on("click.SelectPage","div."+t.css_class.clear_btn,function(i){i.stopPropagation(),t.disabled(t)||(t.clearAll(t,!0),t.elem.hidden.change(),n.eClear&&e.isFunction(n.eClear)&&n.eClear(t))}),i.result_area.on("mousedown.SelectPage",function(e){e.stopPropagation()}),n.multiple&&(n.multipleControlbar&&(i.control.find(".sp_select_all").on("click.SelectPage",function(e){t.selectAllLine(t)}).hover(function(){i.control_text.html(r.select_all)},function(){i.control_text.html("")}),i.control.find(".sp_unselect_all").on("click.SelectPage",function(e){t.unSelectAllLine(t)}).hover(function(){i.control_text.html(r.unselect_all)},function(){i.control_text.html("")}),i.control.find(".sp_clear_all").on("click.SelectPage",function(e){t.clearAll(t,!0)}).hover(function(){i.control_text.html(r.clear_all)},function(){i.control_text.html("")})),i.element_box.on("click.SelectPage",function(t){var n=t.target||t.srcElement;e(n).is("ul")&&i.combo_input.focus()}),i.element_box.on("click.SelectPage","span.tag_close",function(){var i=e(this).closest("li"),r=i.data("dataObj");t.removeTag(t,i),a(),n.eTagRemove&&e.isFunction(n.eTagRemove)&&n.eTagRemove([r])}),t.inputResize(t))},u.prototype.eWhole=function(){var t=this,n=t.css_class,i=function(e){e.elem.combo_input.val(""),e.option.multiple||e.elem.hidden.val(""),e.prop.selected_text=""};e(document.body).off("mousedown.selectPage").on("mousedown.selectPage",function(t){var r=t.target||t.srcElement,a=e(r).closest("div."+n.container);e("div."+n.container+"."+n.container_open).each(function(){if(this!=a[0]){var t=e(this),r=t.find("input."+n.input).data(u.dataKey);if(!r.elem.combo_input.val()&&r.elem.hidden.val()&&!r.option.multiple)return r.prop.current_page=1,i(r),r.hideResults(r),!0;r.elem.results.find("li").not("."+n.message_box).length?r.option.autoFillResult?r.elem.hidden.val()?r.hideResults(r):r.elem.results.find("li.sp_over").length?r.selectCurrentLine(r,!0):r.option.autoSelectFirst?(r.nextLine(r),r.selectCurrentLine(r,!0)):r.hideResults(r):r.hideResults(r):(r.option.noResultClean?i(r):r.option.multiple||r.elem.hidden.val(""),r.hideResults(r))}})})},u.prototype.eResultList=function(){var t=this,n=this.css_class;t.elem.results.children("li").hover(function(){if(t.prop.key_select)return void(t.prop.key_select=!1);e(this).hasClass(n.selected)||e(this).hasClass(n.message_box)||(e(this).addClass(n.select),t.setCssFocusedResults(t))},function(){e(this).removeClass(n.select)}).click(function(i){if(t.prop.key_select)return void(t.prop.key_select=!1);i.preventDefault(),i.stopPropagation(),e(this).hasClass(n.selected)||t.selectCurrentLine(t,!1)})},u.prototype.eScroll=function(){var t=this.css_class;e(window).on("scroll.SelectPage",function(n){e("div."+t.container+"."+t.container_open).each(function(){var n=e(this),i=n.find("input."+t.input).data(u.dataKey),r=i.elem.result_area.offset(),a=e(window).scrollTop(),o=e(document).height(),l=e(window).height(),s=i.elem.result_area.outerHeight(),c=r.top+s,d=o>l,p=i.elem.result_area.hasClass("shadowDown");d&&(p?c>l+a&&i.calcResultsSize(i):r.top<a&&i.calcResultsSize(i))})})},u.prototype.ePaging=function(){var e=this;e.option.pagination&&(e.elem.navi.find("li.csFirstPage").off("click").on("click",function(t){t.preventDefault(),e.firstPage(e)}),e.elem.navi.find("li.csPreviousPage").off("click").on("click",function(t){t.preventDefault(),e.prevPage(e)}),e.elem.navi.find("li.csNextPage").off("click").on("click",function(t){t.preventDefault(),e.nextPage(e)}),e.elem.navi.find("li.csLastPage").off("click").on("click",function(t){t.preventDefault(),e.lastPage(e)}))},u.prototype.ajaxErrorNotify=function(e,t){e.showMessage(e,e.message.ajax_error)},u.prototype.showMessage=function(e,t){if(t){var n='<li class="'+e.css_class.message_box+'"><i class="spfont sp-warning"></i> '+t+"</li>";e.elem.results.empty().append(n).show(),e.calcResultsSize(e),e.setOpenStatus(e,!0),e.elem.control&&e.elem.control.hide(),e.option.pagination&&e.elem.navi.hide()}},u.prototype.scrollWindow=function(t,n){var i,r=t.getCurrentLine(t),a=r&&!n?r.offset().top:t.elem.container.offset().top;t.prop.size_li=t.elem.results.children("li:first").outerHeight(),i=t.prop.size_li;var o,l=e(window).height(),s=e(window).scrollTop(),c=s+l-i;if(r.length)if(a<s||i>l)o=a-s;else{if(!(a>c))return;o=a-c}else a<s&&(o=a-s);window.scrollBy(0,o)},u.prototype.setOpenStatus=function(e,t){var n=e.elem,i=e.css_class;t?(n.container.addClass(i.container_open),n.result_area.addClass(i.result_open)):(n.container.removeClass(i.container_open),n.result_area.removeClass(i.result_open))},u.prototype.setCssFocusedInput=function(e){},u.prototype.setCssFocusedResults=function(e){},u.prototype.checkValue=function(e){var t=e.elem.combo_input.val();t!=e.prop.prev_value&&(e.prop.prev_value=t,e.prop.first_show=!1,e.prop.current_page=1,e.option.selectOnly&&e.setButtonAttrDefault(),e.option.multiple||t||(e.elem.combo_input.val(""),e.elem.hidden.val(""),e.elem.clear_btn.remove()),e.suggest(e))},u.prototype.processKey=function(t,n){-1===e.inArray(n.keyCode,[37,38,39,40,27,9,13])&&(16!=n.keyCode&&t.setCssFocusedInput(t),t.inputResize(t),"string"===e.type(t.option.data)?(t.prop.last_input_time=n.timeStamp,setTimeout(function(){n.timeStamp-t.prop.last_input_time==0&&t.checkValue(t)},1e3*t.option.inputDelay)):t.checkValue(t))},u.prototype.processControl=function(t,n){if(e.inArray(n.keyCode,[37,38,39,40,27,9])>-1&&t.elem.result_area.is(":visible")||e.inArray(n.keyCode,[13,9])>-1&&t.getCurrentLine(t))switch(n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0,n.returnValue=!1,n.keyCode){case 37:n.shiftKey?t.firstPage(t):t.prevPage(t);break;case 38:t.prop.key_select=!0,t.prevLine(t);break;case 39:n.shiftKey?t.lastPage(t):t.nextPage(t);break;case 40:t.elem.results.children("li").length?(t.prop.key_select=!0,t.nextLine(t)):t.suggest(t);break;case 9:t.prop.key_paging=!0,t.selectCurrentLine(t,!0);break;case 13:t.selectCurrentLine(t,!0);break;case 27:t.prop.key_paging=!0,t.hideResults(t)}},u.prototype.abortAjax=function(e){e.prop.xhr&&(e.prop.xhr.abort(),e.prop.xhr=!1)},u.prototype.suggest=function(t){var n,i=e.trim(t.elem.combo_input.val());n=t.option.multiple?i:i&&i==t.prop.selected_text?"":i,n=n.split(t.option.separator),t.option.eOpen&&e.isFunction(t.option.eOpen)&&t.option.eOpen.call(t),t.abortAjax(t);var r=t.prop.current_page||1;"object"==typeof t.option.data?t.searchForJson(t,n,r):t.searchForDb(t,n,r)},u.prototype.setLoading=function(e){""===e.elem.results.html()&&e.setOpenStatus(e,!0)},u.prototype.searchForDb=function(t,n,i){var r=t.option;r.eAjaxSuccess&&e.isFunction(r.eAjaxSuccess)||t.hideResults(t);var a=r.params,o={},l=r.searchField;n.length&&n[0]&&n.join(t.option.separator)!==t.prop.prev_value&&(i=1);var s={q_word:n,pageNumber:i,pageSize:r.pageSize,andOr:r.andOr,orderBy:r.orderBy,searchTable:r.dbTable,showField:t.option.showField,keyField:t.option.keyField,searchField:t.option.searchField};if(!1!==r.orderBy&&(s.orderBy=r.orderBy),s[l]=n[0],a){var c=e.isFunction(a)?a(t):a;o=c&&e.isPlainObject(c)?e.extend({},s,c):s}else o=s;t.prop.xhr=e.ajax({dataType:"json",url:r.data,type:"POST",data:o,success:function(a){if(!a||!e.isPlainObject(a))return t.hideResults(t),void t.ajaxErrorNotify(t,errorThrown);var o={},l={};try{o=r.eAjaxSuccess(a),l.originalResult=o.list,l.cnt_whole=o.totalRow}catch(e){return void t.showMessage(t,t.message.ajax_error)}if(t.elem.navi&&e(t.elem.navi).toggleClass("hide",l.cnt_whole<=l.originalResult.length),l.candidate=[],l.keyField=[],"object"!=typeof l.originalResult)return t.prop.xhr=null,void t.notFoundSearch(t);l.cnt_page=l.originalResult.length;for(var s=0;s<l.cnt_page;s++)for(var c in l.originalResult[s])c==r.keyField&&l.keyField.push(l.originalResult[s][c]),c==r.showField&&l.candidate.push(l.originalResult[s][c]);t.prepareResults(t,l,n,i)},error:function(e,n,i){"abort"!=n&&(t.hideResults(t),t.ajaxErrorNotify(t,i))},complete:function(){t.prop.xhr=null}})},u.prototype.searchForJson=function(t,n,i){var r=t.option,a=[],o=[],l=[],s={},c=0,u=[];do{o[c]=n[c].replace(/\W/g,"\\$&").toString(),u[c]=new RegExp(o[c],"gi"),c++}while(c<n.length);for(var c=0;c<r.data.length;c++){for(var d,p=!1,f=r.data[c],h=0;h<u.length;h++)if(d=f[r.searchField],r.formatItem&&e.isFunction(r.formatItem)&&(d=r.formatItem(f)),d.match(u[h])){if(p=!0,"OR"==r.andOr)break}else if(p=!1,"AND"==r.andOr)break;p&&a.push(f)}if(!1===r.orderBy)l=a.concat();else{for(var m=new RegExp("^"+o[0]+"$","gi"),v=new RegExp("^"+o[0],"gi"),g=[],y=[],b=[],c=0;c<a.length;c++){var x=r.orderBy[0][0],w=String(a[c][x]);w.match(m)?g.push(a[c]):w.match(v)?y.push(a[c]):b.push(a[c])}r.orderBy[0][1].match(/^asc$/i)?(g=t.sortAsc(t,g),y=t.sortAsc(t,y),b=t.sortAsc(t,b)):(g=t.sortDesc(t,g),y=t.sortDesc(t,y),b=t.sortDesc(t,b)),l=l.concat(g).concat(y).concat(b)}if(s.cnt_whole=l.length,t.prop.page_move)l.length<=(i-1)*r.pageSize&&(i=1,t.prop.current_page=1);else if(!r.multiple){var k=t.elem.hidden.val();if("undefined"!==e.type(k)&&""!==e.trim(k)){var _=0;e.each(l,function(e,t){if(t[r.keyField]==k)return _=e+1,!1}),i=Math.ceil(_/r.pageSize),i<1&&(i=1),t.prop.current_page=i}}var C=(i-1)*r.pageSize,S=C+r.pageSize;s.originalResult=[];for(var c=C;c<S&&void 0!==l[c];c++){s.originalResult.push(l[c]);for(var T in l[c])T==r.keyField&&(void 0===s.keyField&&(s.keyField=[]),s.keyField.push(l[c][T])),T==r.showField&&(void 0===s.candidate&&(s.candidate=[]),s.candidate.push(l[c][T]))}void 0===s.candidate&&(s.candidate=[]),s.cnt_page=s.candidate.length,t.prepareResults(t,s,n,i)},u.prototype.sortAsc=function(t,n){return n.sort(function(n,i){var r=n[t.option.orderBy[0][0]],a=i[t.option.orderBy[0][0]];return"number"===e.type(r)?r-a:String(r).localeCompare(String(a))}),n},u.prototype.sortDesc=function(t,n){return n.sort(function(n,i){var r=n[t.option.orderBy[0][0]],a=i[t.option.orderBy[0][0]];return"number"===e.type(r)?a-r:String(a).localeCompare(String(r))}),n},u.prototype.notFoundSearch=function(e){e.elem.results.empty(),e.calcResultsSize(e),e.setOpenStatus(e,!0),e.setCssFocusedInput(e)},u.prototype.prepareResults=function(e,t,n,i){e.data=t.originalResult,e.option.pagination&&e.setNavi(e,t.cnt_whole,t.cnt_page,i),t.keyField||(t.keyField=!1),e.option.selectOnly&&1===t.candidate.length&&t.candidate[0]==n[0]&&(e.elem.hidden.val(t.keyField[0]),this.setButtonAttrDefault());var r=!1;n&&n.length&&n[0]&&(r=!0),e.displayResults(e,t,r)},u.prototype.setNavi=function(e,t,n,i){var r=e.message,a=e.elem.navi.find("ul"),o=Math.ceil(t/e.option.pageSize);0===o?i=0:o<i?i=o:0===i&&(i=1),e.prop.current_page=i,e.prop.max_page=o,function(e,t,n,i){var a=function(){return r.page_info.replace(e.template.page.current,n).replace(e.template.page.total,i)};if(0===t.find("li").length){t.hide().empty();t.append('<li class="csFirstPage" title="'+r.first_title+'" ><a href="javascript:void(0);"> <i class="spfont sp-first"></i> </a></li>'),t.append('<li class="csPreviousPage" title="'+r.prev_title+'" ><a href="javascript:void(0);"><i class="spfont sp-previous"></i></a></li>'),t.append('<li class="pageInfoBox"><a href="javascript:void(0);"> '+a()+" </a></li>"),t.append('<li class="csNextPage" title="'+r.next_title+'" ><a href="javascript:void(0);"><i class="spfont sp-next"></i></a></li>'),t.append('<li class="csLastPage" title="'+r.last_title+'" ><a href="javascript:void(0);"> <i class="spfont sp-last"></i> </a></li>'),t.show()}else t.find("li.pageInfoBox a").html(a())}(e,a,i,o);var l="disabled",s=a.find("li.csFirstPage"),c=a.find("li.csPreviousPage"),u=a.find("li.csNextPage"),d=a.find("li.csLastPage");1===i||0===i?(s.hasClass(l)||s.addClass(l),c.hasClass(l)||c.addClass(l)):(s.hasClass(l)&&s.removeClass(l),c.hasClass(l)&&c.removeClass(l)),i===o||0===o?(u.hasClass(l)||u.addClass(l),d.hasClass(l)||d.addClass(l)):(u.hasClass(l)&&u.removeClass(l),d.hasClass(l)&&d.removeClass(l)),o>1&&e.ePaging()},u.prototype.displayResults=function(t,n,i){var r=t.option,a=t.elem;if(a.results.hide().empty(),
r.multiple&&"number"===e.type(r.maxSelectLimit)&&r.maxSelectLimit>0){var o=a.element_box.find("li.selected_tag").length;if(o>0&&o>=r.maxSelectLimit){var l=t.message.max_selected;return void t.showMessage(t,l.replace(t.template.msg.maxSelectLimit,r.maxSelectLimit))}}if(n.candidate.length)for(var s=n.candidate,c=n.keyField,u=a.hidden.val(),d=u?u.split(","):[],p="",f=0;f<s.length;f++){if(r.formatItem&&e.isFunction(r.formatItem))try{p=r.formatItem(n.originalResult[f])}catch(e){console.error("formatItemåå®¹æ ¼å¼åå½æ°åå®¹è®¾ç½®ä¸æ­£ç¡®ï¼"),p=r.escape?t.escapeHTML(s[f]):s[f]}else p=r.escape?t.escapeHTML(s[f]):s[f];var h=e("<li>").html(p).attr({pkey:c[f],index:f});r.formatItem||h.attr("title",p),-1!==e.inArray(c[f].toString(),d)&&h.addClass(t.css_class.selected),h.data("dataObj",n.originalResult[f]),a.results.append(h)}else{var m='<li class="'+t.css_class.message_box+'"><i class="spfont sp-warning"></i> '+t.message.not_found+"</li>";a.results.append(m)}a.results.show(),r.multiple&&r.multipleControlbar&&a.control.show(),r.pagination&&a.navi.show(),t.calcResultsSize(t),t.setOpenStatus(t,!0),t.eResultList(),t.eScroll(),i&&n.candidate.length&&r.autoSelectFirst&&t.nextLine(t)},u.prototype.calcResultsSize=function(t){var n=t.option,i=t.elem,r=function(){if("static"!==i.container.css("position")){if(!n.pagination){var t=i.results.find("li:first").outerHeight(!0),r=t*n.listSize;i.results.css({"max-height":r,"overflow-y":"auto"})}var a=e(document).width(),o=e(document).height(),l=e(window).height(),s=i.container.offset(),c=e(window).scrollTop(),u=i.result_area.outerWidth(),r=i.result_area.outerHeight(),d=s.left,p=i.container.outerHeight(),f=s.left+u>a?d-(u-i.container.outerWidth()):d,h=s.top,m=0,v=h+p+r+5,g=h+r+5,y=o>l;return h-c-5>r&&y&&v>l+c||!y&&v>l&&h>=g?(m=s.top-r-5,i.result_area.removeClass("shadowUp shadowDown").addClass("shadowUp")):(m=s.top+(n.multiple?i.container.outerHeight():p),i.result_area.removeClass("shadowUp shadowDown").addClass("shadowDown"),m+=5),{top:m+"px",left:f+"px"}}var s=i.combo_input.offset();i.result_area.css({top:s.top+i.combo_input.outerHeight()+"px",left:s.left+"px"})};if(i.result_area.is(":visible"))i.result_area.css(r());else{var a=r();i.result_area.css(a).show(1,function(){var e=r();a.top===e.top&&a.left===e.left||i.result_area.css(e)})}},u.prototype.hideResults=function(t){t.prop.key_paging&&(t.scrollWindow(t,!0),t.prop.key_paging=!1),t.setCssFocusedInput(t),t.option.autoFillResult,t.elem.results.empty(),t.elem.result_area.hide(),t.setOpenStatus(t,!1),e(window).off("scroll.SelectPage"),t.abortAjax(t),t.setButtonAttrDefault()},u.prototype.disabled=function(t,n){var i=(t.option,t.elem);if("undefined"===e.type(n))return i.combo_input.prop("disabled");"boolean"===e.type(n)&&(i.combo_input.prop("disabled",n),n?i.container.addClass(t.css_class.disabled):i.container.removeClass(t.css_class.disabled))},u.prototype.firstPage=function(e){e.prop.current_page>1&&(e.prop.current_page=1,e.prop.page_move=!0,e.suggest(e))},u.prototype.prevPage=function(e){e.prop.current_page>1&&(e.prop.current_page--,e.prop.page_move=!0,e.suggest(e))},u.prototype.nextPage=function(e){e.prop.current_page<e.prop.max_page&&(e.prop.current_page++,e.prop.page_move=!0,e.suggest(e))},u.prototype.lastPage=function(e){e.prop.current_page<e.prop.max_page&&(e.prop.current_page=e.prop.max_page,e.prop.page_move=!0,e.suggest(e))},u.prototype.afterAction=function(e,t){e.inputResize(e),e.elem.combo_input.change(),e.setCssFocusedInput(e),e.prop.init_set||(e.option.multiple?(e.option.selectToCloseList&&(e.hideResults(e),e.elem.combo_input.blur()),!e.option.selectToCloseList&&t&&(e.suggest(e),e.elem.combo_input.focus())):(e.hideResults(e),e.elem.combo_input.blur()))},u.prototype.selectCurrentLine=function(t,n){t.scrollWindow(t,!0);var i=t.option,r=t.getCurrentLine(t);if(r){var a=r.data("dataObj"),o=a[i.showField]||r.text(),l=r.attr("pkey");if(i.multiple){t.elem.combo_input.val("");var s={text:o,value:l};t.isAlreadySelected(t,s)||(t.addNewTag(t,a,s),t.tagValuesSet(t))}else t.elem.combo_input.val(o),t.elem.hidden.val(l);i.selectOnly&&t.setButtonAttrDefault(),i.eSelect&&e.isFunction(i.eSelect)&&i.eSelect(a,t),t.prop.prev_value=t.elem.combo_input.val(),t.prop.selected_text=t.elem.combo_input.val(),t.putClearButton()}t.afterAction(t,!0)},u.prototype.putClearButton=function(){this.option.multiple||this.elem.combo_input.prop("disabled")||this.elem.container.append(this.elem.clear_btn)},u.prototype.selectAllLine=function(t){var n=t.option,i=new Array;t.elem.results.find("li").each(function(r,a){var o=e(a),l=o.data("dataObj"),s=l[n.showField]||o.text(),c=o.attr("pkey"),u={text:s,value:c};if(t.isAlreadySelected(t,u)||(t.addNewTag(t,l,u),t.tagValuesSet(t)),i.push(l),"number"===e.type(n.maxSelectLimit)&&n.maxSelectLimit>0&&n.maxSelectLimit===t.elem.element_box.find("li.selected_tag").length)return!1}),n.eSelect&&e.isFunction(n.eSelect)&&n.eSelect(i,t),t.afterAction(t,!0)},u.prototype.unSelectAllLine=function(t){var n=t.option,i=(t.elem.results.find("li").length,[]);t.elem.results.find("li").each(function(n,r){var a=e(r).attr("pkey"),o=t.elem.element_box.find('li.selected_tag[itemvalue="'+a+'"]');o.length&&i.push(o.data("dataObj")),t.removeTag(t,o)}),t.afterAction(t,!0),n.eTagRemove&&e.isFunction(n.eTagRemove)&&n.eTagRemove(i)},u.prototype.clearAll=function(t,n){var i=t.option,r=[];i.multiple&&(t.elem.element_box.find("li.selected_tag").each(function(t,n){r.push(e(n).data("dataObj")),n.remove()}),t.elem.element_box.find("li.selected_tag").remove()),t.reset(t),t.afterAction(t,n),i.multiple?i.eTagRemove&&e.isFunction(i.eTagRemove)&&i.eTagRemove(r):t.elem.clear_btn.remove()},u.prototype.reset=function(e){e.elem.combo_input.val(""),e.elem.hidden.val(""),e.prop.prev_value="",e.prop.selected_text="",e.prop.current_page=1},u.prototype.getCurrentLine=function(e){if(e.elem.result_area.is(":hidden"))return!1;var t=e.elem.results.find("li."+e.css_class.select);return!!t.length&&t},u.prototype.isAlreadySelected=function(t,n){var i=!1;if(n.value){var r=t.elem.hidden.val();if(r){var a=r.split(",");a&&a.length&&-1!=e.inArray(n.value,a)&&(i=!0)}}return i},u.prototype.addNewTag=function(t,n,i){if(t.option.multiple&&n&&i){var r,a=t.template.tag.content;a=a.replace(t.template.tag.textKey,i.text),a=a.replace(t.template.tag.valueKey,i.value),r=e(a),r.data("dataObj",n),t.elem.combo_input.prop("disabled")&&r.find("span.tag_close").hide(),t.elem.combo_input.closest("li").before(r)}},u.prototype.removeTag=function(t,n){var i=e(n).attr("itemvalue"),r=t.elem.hidden.val();if("undefined"!=e.type(i)&&r){var a=r.split(","),o=e.inArray(i.toString(),a);-1!=o&&(a.splice(o,1),t.elem.hidden.val(a.toString()).trigger("change"))}e(n).remove(),t.inputResize(t)},u.prototype.tagValuesSet=function(t){if(t.option.multiple){var n=t.elem.element_box.find("li.selected_tag");if(n&&n.length){var i=new Array;e.each(n,function(t,n){var r=e(n).attr("itemvalue");"undefined"!==e.type(r)&&i.push(r)}),i.length&&t.elem.hidden.val(i.join(",")).trigger("change")}}},u.prototype.inputResize=function(e){if(e.option.multiple){var t=e.elem.combo_input.closest("li");0===e.elem.element_box.find("li.selected_tag").length?(t.hasClass("full_width")||t.addClass("full_width"),e.elem.combo_input.attr("placeholder_bak")&&e.elem.combo_input.attr("placeholder",e.elem.combo_input.attr("placeholder_bak")).removeAttr("style")):function(e,t){t.removeClass("full_width");var n=e.elem.combo_input.val().length+1,i=.75*n+"em";e.elem.combo_input.css("width",i).removeAttr("placeholder")}(e,t)}},u.prototype.nextLine=function(e){var t,n=e.getCurrentLine(e);if(n?(t=e.elem.results.children("li").index(n),n.removeClass(e.css_class.select)):t=-1,++t<e.elem.results.children("li").length){e.elem.results.children("li").eq(t).addClass(e.css_class.select),e.setCssFocusedResults(e)}else e.setCssFocusedInput(e);e.scrollWindow(e,!1)},u.prototype.prevLine=function(e){var t,n=e.getCurrentLine(e);if(n?(t=e.elem.results.children("li").index(n),n.removeClass(e.css_class.select)):t=e.elem.results.children("li").length,--t>-1){e.elem.results.children("li").eq(t).addClass(e.css_class.select),e.setCssFocusedResults(e)}else e.setCssFocusedInput(e);e.scrollWindow(e,!1)};var d=e.fn.selectPage;e.fn.selectPage=t,e.fn.selectPage.Constructor=u,e.fn.selectPageClear=i,e.fn.selectPageRefresh=r,e.fn.selectPageData=a,e.fn.selectPageDisabled=o,e.fn.selectPageText=l,e.fn.selectPageSelectedData=s,e.fn.selectPage.noConflict=function(){return e.fn.selectPage=d,this}}(window.jQuery),define("selectpage",function(){}),function(e){e.fn.dragsort=function(t){if("destroy"==t)return void e(this.selector).trigger("dragsort-uninit");var n=e.extend({},e.fn.dragsort.defaults,t),i=[],r=null,a=null;return this.each(function(t,o){e(o).is("table")&&1==e(o).children().length&&e(o).children().is("tbody")&&(o=e(o).children().get(0));var l={draggedItem:null,placeHolderItem:null,pos:null,offset:null,offsetLimit:null,scroll:null,container:o,init:function(){n.tagName=""==n.tagName?0==e(this.container).children().length?"li":e(this.container).children().get(0).tagName.toLowerCase():n.tagName,""==n.itemSelector&&(n.itemSelector=n.tagName),""==n.dragSelector&&(n.dragSelector=n.tagName),""==n.placeHolderTemplate&&(n.placeHolderTemplate="<"+n.tagName+">&nbsp;</"+n.tagName+">"),e(this.container).attr("data-listidx",t).mousedown(this.grabItem).bind("dragsort-uninit",this.uninit),this.styleDragHandlers(!0)},uninit:function(){var t=i[e(this).attr("data-listidx")];e(t.container).unbind("mousedown",t.grabItem).unbind("dragsort-uninit"),t.styleDragHandlers(!1)},getItems:function(){return e(this.container).children(n.itemSelector)},styleDragHandlers:function(t){this.getItems().map(function(){return e(this).is(n.dragSelector)?this:e(this).find(n.dragSelector).get()}).css("cursor",t?"pointer":"")},grabItem:function(t){var r=i[e(this).attr("data-listidx")],a=e(t.target).closest("[data-listidx] > "+n.tagName).get(0),o=r.getItems().filter(function(){return this==a}).length>0;if(!(1!=t.which||e(t.target).is(n.dragSelectorExclude)||e(t.target).closest(n.dragSelectorExclude).length>0)&&o&&(e(t.target).is(n.dragSelector)||e(t.target).closest(n.dragSelector).length)){t.preventDefault();for(var l=t.target;!e(l).is(n.dragSelector);){if(l==this)return;l=l.parentNode}e(l).attr("data-cursor",e(l).css("cursor")),e(l).css("cursor","move");var s=this,c=function(){r.dragStart.call(s,t),e(r.container).unbind("mousemove",c)};e(r.container).mousemove(c).mouseup(function(){e(r.container).unbind("mousemove",c),e(l).css("cursor",e(l).attr("data-cursor"))})}},dragStart:function(t){null!=r&&null!=r.draggedItem&&r.dropItem(),r=i[e(this).attr("data-listidx")],r.draggedItem=e(t.target).closest("[data-listidx] > "+n.tagName),r.draggedItem.attr("data-origpos",e(this).attr("data-listidx")+"-"+e(r.container).children().index(r.draggedItem));var a=parseInt(r.draggedItem.css("marginTop")),o=parseInt(r.draggedItem.css("marginLeft"));if(r.offset=r.draggedItem.offset(),r.offset.top=t.pageY-r.offset.top+(isNaN(a)?0:a)-1,r.offset.left=t.pageX-r.offset.left+(isNaN(o)?0:o)-1,!n.dragBetween){var l=0==e(r.container).outerHeight()?Math.max(1,Math.round(.5+r.getItems().length*r.draggedItem.outerWidth()/e(r.container).outerWidth()))*r.draggedItem.outerHeight():e(r.container).outerHeight();r.offsetLimit=e(r.container).offset(),r.offsetLimit.right=r.offsetLimit.left+e(r.container).outerWidth()-r.draggedItem.outerWidth(),r.offsetLimit.bottom=r.offsetLimit.top+l-r.draggedItem.outerHeight()}var s=r.draggedItem.height(),c=r.draggedItem.width();if("tr"==n.tagName?(r.draggedItem.children().each(function(){e(this).width(e(this).width())}),r.placeHolderItem=r.draggedItem.clone().attr("data-placeholder",!0),r.draggedItem.after(r.placeHolderItem),r.placeHolderItem.children().each(function(){e(this).html("&nbsp;")})):(r.draggedItem.after(n.placeHolderTemplate),r.placeHolderItem=r.draggedItem.next().css({height:s,width:c}).attr("data-placeholder",!0)),"td"==n.tagName){var u=r.draggedItem.closest("table").get(0);e("<table id='"+u.id+"' style='border-width: 0px;' class='dragSortItem "+u.className+"'><tr></tr></table>").appendTo("body").children().append(r.draggedItem)}var d=r.draggedItem.attr("style");r.draggedItem.attr("data-origstyle",d||""),r.draggedItem.css({position:"absolute",opacity:.8,"z-index":999,height:s,width:c}),r.scroll={moveX:0,moveY:0,maxX:e(document).width()-e(window).width(),maxY:e(document).height()-e(window).height()},r.scroll.scrollY=window.setInterval(function(){if(n.scrollContainer!=window)return void e(n.scrollContainer).scrollTop(e(n.scrollContainer).scrollTop()+r.scroll.moveY);var t=e(n.scrollContainer).scrollTop();(r.scroll.moveY>0&&t<r.scroll.maxY||r.scroll.moveY<0&&t>0)&&(e(n.scrollContainer).scrollTop(t+r.scroll.moveY),r.draggedItem.css("top",r.draggedItem.offset().top+r.scroll.moveY+1))},10),r.scroll.scrollX=window.setInterval(function(){if(n.scrollContainer!=window)return void e(n.scrollContainer).scrollLeft(e(n.scrollContainer).scrollLeft()+r.scroll.moveX);var t=e(n.scrollContainer).scrollLeft();(r.scroll.moveX>0&&t<r.scroll.maxX||r.scroll.moveX<0&&t>0)&&(e(n.scrollContainer).scrollLeft(t+r.scroll.moveX),r.draggedItem.css("left",r.draggedItem.offset().left+r.scroll.moveX+1))},10),e(i).each(function(e,t){t.createDropTargets(),t.buildPositionTable()}),r.setPos(t.pageX,t.pageY),e(document).bind("mousemove",r.swapItems),e(document).bind("mouseup",r.dropItem),n.scrollContainer!=window&&e(window).bind("wheel",r.wheel)},setPos:function(t,i){var a=i-this.offset.top,o=t-this.offset.left;n.dragBetween||(a=Math.min(this.offsetLimit.bottom,Math.max(a,this.offsetLimit.top)),o=Math.min(this.offsetLimit.right,Math.max(o,this.offsetLimit.left)));var l=this.draggedItem.offsetParent().not("body").offset();if(null!=l&&(a-=l.top,o-=l.left),n.scrollContainer==window)i-=e(window).scrollTop(),t-=e(window).scrollLeft(),i=Math.max(0,i-e(window).height()+5)+Math.min(0,i-5),t=Math.max(0,t-e(window).width()+5)+Math.min(0,t-5);else{var s=e(n.scrollContainer),c=s.offset();i=Math.max(0,i-s.height()-c.top)+Math.min(0,i-c.top),t=Math.max(0,t-s.width()-c.left)+Math.min(0,t-c.left)}r.scroll.moveX=0==t?0:t*n.scrollSpeed/Math.abs(t),r.scroll.moveY=0==i?0:i*n.scrollSpeed/Math.abs(i),this.draggedItem.css({top:a,left:o})},wheel:function(t){if(r&&n.scrollContainer!=window){var i=e(n.scrollContainer),a=i.offset();if(t=t.originalEvent,t.clientX>a.left&&t.clientX<a.left+i.width()&&t.clientY>a.top&&t.clientY<a.top+i.height()){var o=(0==t.deltaMode?1:10)*t.deltaY;i.scrollTop(i.scrollTop()+o),t.preventDefault()}}},buildPositionTable:function(){var t=[];this.getItems().not([r.draggedItem[0],r.placeHolderItem[0]]).each(function(n){var i=e(this).offset();i.right=i.left+e(this).outerWidth(),i.bottom=i.top+e(this).outerHeight(),i.elm=this,t[n]=i}),this.pos=t},dropItem:function(){if(null!=r.draggedItem){var t=r.draggedItem.attr("data-origstyle");if(r.draggedItem.attr("style",t),""==t&&r.draggedItem.removeAttr("style"),r.draggedItem.removeAttr("data-origstyle"),r.styleDragHandlers(!0),r.placeHolderItem.before(r.draggedItem),r.placeHolderItem.remove(),e("[data-droptarget], .dragSortItem").remove(),window.clearInterval(r.scroll.scrollY),window.clearInterval(r.scroll.scrollX),r.draggedItem.attr("data-origpos")!=e(i).index(r)+"-"+e(r.container).children().index(r.draggedItem)&&0==n.dragEnd.apply(r.draggedItem)){var a=r.draggedItem.attr("data-origpos").split("-"),o=e(i[a[0]].container).children().not(r.draggedItem).eq(a[1]);o.length>0?o.before(r.draggedItem):0==a[1]?e(i[a[0]].container).prepend(r.draggedItem):e(i[a[0]].container).append(r.draggedItem)}return r.draggedItem.removeAttr("data-origpos"),r.draggedItem=null,e(document).unbind("mousemove",r.swapItems),e(document).unbind("mouseup",r.dropItem),n.scrollContainer!=window&&e(window).unbind("wheel",r.wheel),!1}},swapItems:function(t){if(null==r.draggedItem)return!1;r.setPos(t.pageX,t.pageY);for(var o=r.findPos(t.pageX,t.pageY),l=r,s=0;-1==o&&n.dragBetween&&s<i.length;s++)o=i[s].findPos(t.pageX,t.pageY),l=i[s];if(-1==o)return!1;var c=function(){return e(l.container).children().not(l.draggedItem)},u=c().not(n.itemSelector).each(function(e){this.idx=c().index(this)});return null==a||a.top>r.draggedItem.offset().top||a.left>r.draggedItem.offset().left?e(l.pos[o].elm).before(r.placeHolderItem):e(l.pos[o].elm).after(r.placeHolderItem),u.each(function(){var t=c().eq(this.idx).get(0);this!=t&&c().index(this)<this.idx?e(this).insertAfter(t):this!=t&&e(this).insertBefore(t)}),e(i).each(function(e,t){t.createDropTargets(),t.buildPositionTable()}),a=r.draggedItem.offset(),!1},findPos:function(e,t){for(var n=0;n<this.pos.length;n++)if(this.pos[n].left<e&&this.pos[n].right>e&&this.pos[n].top<t&&this.pos[n].bottom>t)return n;return-1},createDropTargets:function(){n.dragBetween&&e(i).each(function(){var t=e(this.container).find("[data-placeholder]"),i=e(this.container).find("[data-droptarget]");t.length>0&&i.length>0?i.remove():0==t.length&&0==i.length&&("td"==n.tagName?e(n.placeHolderTemplate).attr("data-droptarget",!0).appendTo(this.container):e(this.container).append(r.placeHolderItem.removeAttr("data-placeholder").clone().attr("data-droptarget",!0)),r.placeHolderItem.attr("data-placeholder",!0))})}};l.init(),i.push(l)}),this},e.fn.dragsort.defaults={tagName:"",itemSelector:"",dragSelector:"",dragSelectorExclude:"input, textarea",dragEnd:function(){},dragBetween:!1,placeHolderTemplate:"",scrollContainer:window,scrollSpeed:5}}(jQuery),define("dragsort",function(){});